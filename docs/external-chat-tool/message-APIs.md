---
title: Message APIs
---

## [HOOK] Receive messages from TRACT

Haptik will use the endpoint provided by Sprinklr to send messages synchronously as they come.
This includes messages generated by the IVA and those sent by the CEU.

**Endpoint**

| **type** | POST |
| --- | --- |
| **required** | true |
| **provider** | ECT (via register\_webhook) |
| **caller** | TRACT |
| **url** | registered\_webhooks[&#39;message&#39;][&#39;receive&#39;] |
| **encoding** | application/json |

**Request**

| **parameter** | **type** | **required** | **description** |
| --- | --- | --- | --- |
| user\_id | str | true | Associated user ID |
| message\_id | str | true | Unique and incremental ID for each message |
| conversation\_number | str | true | Current conversation number |
| message\_body | str | true | [Message content](https://docs.haptik.ai/hsl/). Please note that while HSLs are JSON objects, the message body here is a JSON object serialized to a string. |
| sender | str | true | One of senders |
| timestamp | str | true | Message creation ISO timestamp in UTC |
| metadata | dict | false | Additional structured metadata |

**Response**

| **parameter** | **type** | **required** | **description** |
| --- | --- | --- | --- |
| error | str | false | Error message if applicable |


## [API] Send message to TRACT

**Endpoint**

| **type** | POST |
| --- | --- |
| **required** | true |
| **provider** | TRACT |
| **caller** | ECT |
| **url** | /tract/message/send/ |
| **encoding** | application/json |

**Request**

| **parameter** | **type** | **required** | **description** |
| --- | --- | --- | --- |
| user\_id | str | true | Associated user ID |
| message\_body | str | true | [Message content](https://docs.haptik.ai/hsl/). Please note that while HSLs are JSON objects, the message body here should be a serialized JSON string. |
| sender | str | true | One of senders |
| metadata | dict | false | Additional structured metadata. Currently unused. Contact dev team for specific usecases. |

**Response**

| **parameter** | **type** | **required** | **description** |
| --- | --- | --- | --- |
| error | str | false | Error message if applicable |
