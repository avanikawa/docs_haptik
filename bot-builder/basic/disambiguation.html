<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Did you mean? (Disambiguation) · Haptik Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="**What is the Feature?**"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Did you mean? (Disambiguation) · Haptik Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.haptik.ai/"/><meta property="og:description" content="**What is the Feature?**"/><meta property="og:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.haptik.ai/img/image_0.png"/><link rel="shortcut icon" href="/img/image_0.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-106563119-6', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/js/index.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/image_0.png" alt="Haptik Docs"/><h2 class="headerTitleWithLogo">Haptik Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/#tools" target="_self">Tools</a></li><li class=""><a href="/#integrations" target="_self">Integrations</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Resources</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/basic/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/for-bot-builders">For Bot Builders</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Guides</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/basic/making-first-bot">Making Your First Bot</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/design-guidelines">Designing Chat Experiences</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/testing-bot">Testing your bot</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/multiple-languages">Multiple Languages</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/building-voice-bots">Building Voice bots</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/platforms-deployment">Platforms Deployment</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/managing-bot-state">Managing Bot Context and State</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Resources</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/basic/bot-hierarchy">Bot Hierarchy</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/business">Business</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/creating-story">Creating a Story</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/smalltalk">Small Talk</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/dialoguemanager">Dialogue Manager</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/story-templates">Story Templates</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/creating-nodes">Creating Nodes</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/connections">Connections</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/general-nodes">General Nodes</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/user-says-guidelines">User Says Guidelines</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/bot-says">Bot Says</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/chat-elements">Chat Elements</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/intent">Intent</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/bot-builder/basic/disambiguation">Did you mean? (Disambiguation)</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/smart-assist">Smart Assist</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/entities">Entities</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/oracle-feedback">ORACLE Feedback</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/bot-prompt-trigger">Bot Prompts</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/forms">Forms</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/upload-graph-nodes">Upload Graph Nodes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Integrations</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/integrations/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/integrations/integration-parameters">Integration Parameters</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/integrations/integrating-apis">Integrating APIs</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/integrations/integrating-custom-code">Integrating Custom Code</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/integrations/additional-apis">Additional APIs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Advanced</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/advanced/integrating-webviews-into-sdk">Integrating Webviews</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/advanced/integrating-with-external-bot">Integrating with External Bot</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/advanced/development-guidelines">Bot Development Life Cycle</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/advanced/testing-guidelines">Testing Guidelines</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/advanced/debugging-guidelines">How to debug your bot?</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Did you mean? (Disambiguation)</h1></header><article><div><span><p><strong>What is the Feature?</strong></p>
<p>As the word disambiguation suggests, it aims to remove ambiguity. The feature triggers when the IVA is not fully confident on it’s intent detection amongst the intents that it has shortlisted based on User Utterances and the Training Data.</p>
<p>(Read Intent = Node)</p>
<p>Hence, there will be multiple nodes from which the response can be provided to the user. The confidence scores for each response are in close range to each other, leading the bot to disambiguate.</p>
<p><strong>When does it occur?</strong> - Applying the above conditionality, we can find multiple scenarios due to which Disambiguation can trigger -</p>
<ol>
<li><p>When the User Utterances are vague or incomplete, the IVA is not able to map the user’s intent to 1 single node.</p></li>
<li><p>When User Says added across multiple nodes are showing an overlap, there is a chance that the IVA will have low confidence in classifying intent to a particular node. In this case, even when a User Utterance is displaying single intent, the IVA finds that there are multiple nodes which can respond to that intent.</p></li>
</ol>
<p><strong>Misconception</strong> - If one keyword is present in the <strong>User Says</strong> of both nodes, the IVA will <strong>always</strong> show the <strong>Disambiguation</strong> Button.</p>
<p><strong>Illustration</strong> - A case where one keyword “<strong>Order</strong>” responded directly from a node and didn’t display <strong>Disambiguation Feature</strong>, even though the word “<strong>Order</strong>” is present in USER SAYS of multiple nodes.</p>
<p><img src="/assets/DMG_1.png" alt="DMG_1"></p>
<p><img src="/assets/DMG_2.png" alt="DMG_2"></p>
<p><strong>How does Disambiguation appear to the end user?</strong> -</p>
<p>When a user utterance is received on the IVA, the IVA tries to find candidate nodes which can respond to the intent. If it finds nodes with confidence scores in close vicinity, it sends a <strong>Disambiguation Message</strong> (shown in attached image). The message has <strong>two or three buttons</strong> which IVA shortlisted as per the intent of the user.</p>
<p><img src="/assets/DMG_3.png" alt="DMG_3"></p>
<p><strong>For example</strong> - when user types &quot;Tell me about plans&quot; in a IVA and if there are multiple intents around that User Utterance, we disambiguate by sending the message as shown below -</p>
<p>On Whatsapp, the above message goes as a text message with the shortlister node options in bullet points, as shown below -</p>
<p><em>Sorry, I did not understand you right.</em></p>
<p><em>Did you mean?</em></p>
<p><em>1 - Show Your Plans</em></p>
<p><em>2 - Browse new plans</em></p>
<p><em>3 - Something else</em></p>
<p>The User can send 1, 2, 3 as a response, basis which we will detect the chosen intent by the user from the above options.</p>
<p><strong>How to set up Disambiguation?</strong> -</p>
<p>The text that appears on the button on the UI is controlled at a node level through a node-wise copy. It can be set by adding the <strong>Did you mean?</strong> button text in the User Says section of either the static node which is marked as a start node or on the connection where dependent responses are there.</p>
<p><strong>It is mandatory to add this text.</strong></p>
<p>There is a <strong>limit of 20 characters</strong> on the &quot;Did you mean?&quot; button text.</p>
<p><img src="/assets/bot-builder-disambiguation/static-node-disambiguation.png" alt="DMG_4"></p>
<p><strong>Note</strong>: The <strong>Did you mean?</strong> button text also acts as a User Says expression. This is the message that will be sent to the user, so it's critical that this message is similar to the user intent represented in the other user says.</p>
<p><strong>Few rules incorporated</strong> in the IVA to ensure a good user experience with Disambiguation -</p>
<ol>
<li><p>The disambiguation response is not sent for consecutive user messages. This implies, if the last user message received a disambiguation response (i.e the Button UI), the next user message would not get a disambiguation response. In this case -</p>
<p>a. If the User Utterance is above threshold of the IVA, the response from NODE with highest confidence will be sent.</p>
<p>b. If the User Utterance is below the threshold of the IVA, the IVA will break.</p></li>
<li><p>While shortlisting disambiguation node options, the IVA will disambiguate between only those nodes which are eligible candidates for sending responses to the user. Hence -</p>
<p>a. When a user sends his first message in a chat, only <strong>(Start nodes / FAQ Nodes)</strong> will be considered for disambiguation, and not dependent nodes.</p>
<p>b. When a user has reached a start node and then sends another message, All <strong>(immediate dependent nodes + Start nodes + FAQ Nodes)</strong> become eligible candidates for disambiguation. Goes without saying, the user utterance will determine the actual response that goes out.</p></li>
</ol>
<p>**Illustration - The <strong>Disambiguation Feature</strong> is better explained through some images taken from a sample IVA built on Haptik Version 2.0. The illustration depicts various scenarios in which Disambiguation occurs.</p>
<p>Here is the structure of the IVA taken from Bot Builder. The <strong>“Careers at Haptik”</strong> and <strong>“About Haptik”</strong> are start nodes. The <strong>“Funding of Haptik”</strong> and <strong>“Product of Haptik”</strong> are dependent nodes branching from <strong>“About Haptik”</strong> start node.</p>
<p><img src="/assets/DMG_5.png" alt="DMG_5"></p>
<p>Below are the USER SAYS present in both the START nodes -</p>
<p><img src="/assets/DMG_6.png" alt="DMG_6"></p>
<p>Below are the USER SAYS present in both the DEPENDENT nodes -</p>
<p><img src="/assets/bot-builder-disambiguation/dependent-disambiguation.png" alt="DMG_7"></p>
<p><strong>Disambiguation at work</strong></p>
<p><strong>Example 1</strong> - Between <strong>two start nodes</strong> - In this case, dependent nodes are not eligible candidates for Disambiguation Button UI.</p>
<p><img src="/assets/DMG_8.png" alt="DMG_8"></p>
<p><strong>Example 2</strong> - Disambiguation between <strong>one start node and 1 / 2 dependent node</strong> - As shown in the image below, the <strong>“Careers at Haptik”</strong> is a start node, while other 2 buttons are from dependent nodes of the <strong>“About Haptik”</strong> node.</p>
<ul>
<li>Once the IVA reaches a start node, it can disambiguate between all eligible nodes, including dependent and start nodes, depending upon the User Utterance.</li>
</ul>
<p><img src="/assets/DMG_9.png" alt="DMG_9"></p>
<p><strong>Example 3</strong> - Disambiguation between <strong>only 2 Dependent Nodes</strong> - Both <strong>“Product of Haptik”</strong> and <strong>“Funding of Haptik”</strong> are dependent nodes of <strong>“About Haptik”</strong> start node.</p>
<p><img src="/assets/DMG_10.png" alt="DMG_10"></p>
<p><strong>Example 4</strong> - Disambiguation between <strong>a START NODE</strong> and <strong>a FAQ Node</strong> - <strong>“Funding of Haptik”</strong> is a START Node and <strong>“Founders of Haptik”</strong> is an FAQ Node.</p>
<p>Below two images show the “User Says” of a START NODE and a FAQ Node.</p>
<p><img src="/assets/DMG_11.png" alt="DMG_11"></p>
<p>Below image shows how disambiguation can occur between a START Node and FAQ Node.</p>
<p><img src="/assets/DMG_12.png" alt="DMG_12"></p>
<p><strong>Example 5</strong> - Disambiguation between <strong>a Dependent NODE</strong> and <strong>a FAQ Node</strong> - <strong>“Haptik Location”</strong> is a Dependent Node of the <strong>“About Haptik”</strong> START node and <strong>“Cofounder_Haptik”</strong> is a FAQ Node.</p>
<p>Also shown are the “User Says” present in the <strong>“Haptik Location”</strong> node, which is a dependent node of the <strong>“About Haptik”</strong> START Node.</p>
<p><img src="/assets/DMG_13.png" alt="DMG_13"></p>
<ul>
<li>Once the IVA reaches a START node through a User Utterance, it can disambiguate between a FAQ node and a Dependent Node as well.</li>
</ul>
<p>In the image below, User Utterance “can information about haptik be given?” leads to a response from “About Haptik” node. The subsequent utterance was not clearly distinguishable and, hence the IVA disambiguated between <strong>“Cofounder haptik”</strong> FAQ Node and <strong>“Haptik Location”</strong> Dependent Node.</p>
<p><img src="/assets/DMG_14.png" alt="DMG_14"></p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 8/4/2020</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/bot-builder/basic/intent"><span class="arrow-prev">← </span><span>Intent</span></a><a class="docs-next button" href="/bot-builder/basic/smart-assist"><span>Smart Assist</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><div class="footer"><a href="https://haptik.ai/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/image_0.png" alt="Haptik Inc." width="100"/></a><div class="footer-columns"><div class="footer-column"><div class="footer-column-title">Tools</div><div class="footer-column-links"><a href="https://docs.haptik.ai/bot-builder/basic/introduction" class="footer-column-link">Bot Builder</a><a href="https://docs.haptik.ai/agent-chat/" class="footer-column-link">Agent Chat</a><a href="https://docs.haptik.ai/bot-analytics/" class="footer-column-link">Analytics</a></div></div><div class="footer-column"><div class="footer-column-title">Integrations</div><div class="footer-column-links"><a href="https://docs.haptik.ai/ios-sdk/" class="footer-column-link">iOS SDK</a><a href="https://docs.haptik.ai/android-sdk/" class="footer-column-link">Android SDK</a><a href="https://docs.haptik.ai/web-sdk/" class="footer-column-link">Web SDK</a><a href="https://docs.haptik.ai/whatsapp/" class="footer-column-link">WhatsApp</a><a href="https://docs.haptik.ai/other/facebook" class="footer-column-link">Facebook</a><a href="https://docs.haptik.ai/webhooks/" class="footer-column-link">Bot API</a></div></div><div class="footer-column"><div class="footer-column-title">Others</div><div class="footer-column-links"><a href="https://docs.haptik.ai/hsl/" class="footer-column-link">HSL</a><a href="https://docs.haptik.ai/other/security" class="footer-column-link">Security</a><a href="https://docs.haptik.ai/other/sla" class="footer-column-link">SLA</a><a href="https://docs.haptik.ai/external-chat-tool/" class="footer-column-link">External Agent Chat Tool</a></div></div></div><div class="footer-copyright"></div></div><section class="copyright">Copyright © 2020 Haptik Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '224c7079e67e84a978d8b4621f6af16d',
                indexName: 'haptik',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>