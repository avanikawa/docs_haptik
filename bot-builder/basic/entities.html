<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Entities · Haptik Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Before you start how to create entities and understand how to use them in bots, you can start with understanding what are entities by referring to this [**documentation**](https://docs.haptik.ai/bot-builder/basic/intent).  "/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Entities · Haptik Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.haptik.ai/"/><meta property="og:description" content="Before you start how to create entities and understand how to use them in bots, you can start with understanding what are entities by referring to this [**documentation**](https://docs.haptik.ai/bot-builder/basic/intent).  "/><meta property="og:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.haptik.ai/img/image_0.png"/><link rel="shortcut icon" href="/img/image_0.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-106563119-6', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/js/index.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/image_0.png" alt="Haptik Docs"/><h2 class="headerTitleWithLogo">Haptik Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/#tools" target="_self">Tools</a></li><li class=""><a href="/#integrations" target="_self">Integrations</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Essentials of Bot Building</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/basic/introduction">Introduction</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Essentials of Bot Building</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/basic/making-first-bot">Making Your First Bot</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/bot-hierarchy">Bot Hierarchy</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/creating-story">Creating a Story</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/creating-nodes">Creating Nodes</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/smalltalk">Small Talk</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/general-nodes">General Nodes</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/upload-graph-nodes">Upload Graph Nodes</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/user-says-guidelines">User Says Guidelines</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/advanced/development-guidelines">Bot Development Life Cycle</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/bot-says">Bot Says</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/chat-elements">Chat Elements</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/connections">Connections</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/bot-builder/basic/entities">Entities</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/forms">Forms</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/story-templates">Story Templates</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/searchbot">Search your IVA</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Configurations Settings</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/basic/business">Business</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/platforms-deployment">Platforms Deployment</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/copypaste">Copy &amp; Paste on Conversation Studio</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/sharebot">Share your IVA</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/transferbot">Transfer your IVA</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/bot-prompt-trigger">Bot Prompts</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">NLU</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/basic/introduction-nlu">Introduction</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/intent">Intent &amp; Entity</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/dialoguemanager">Dialogue Manager</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/managing-bot-state">Managing Bot Context and State</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/disambiguation">Did you mean? (Disambiguation)</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/smart-assist">Smart Assist</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Conversation Design</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/basic/conversation-design-introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/setting-flowchart-tool">Setting up a FlowChart tool</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/create-the-canvas">Create the canvas</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/whatsapp_as_a_platform">WhatsApp as a Platform</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/chat-initiation">Chat Initiation</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/chat-middle">Chat Middle</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/chat-end">Chat End</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/design-review">Design Review</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Integrations</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/integrations/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/integrations/integrating-custom-code">Code Node Integration</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/integrations/integrating-apis">Static Node Integration</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/integrations/integration-parameters">Integration Parameters</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Quality Assessment</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/basic/testing-bot">Testing your bot</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/advanced/testing-guidelines">Testing Guidelines</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/advanced/debugging-guidelines">How to debug your bot?</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/oracle-feedback">ORACLE Feedback</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Advanced</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/advanced/integrating-webviews-into-sdk">Integrating Webviews</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/advanced/integrating-with-external-bot">Integrating with External Bot</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Webhooks</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/integrations/additional-apis">Additional APIs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Miscellaneous</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-builder/basic/multiple-languages">Multiple Languages</a></li><li class="navListItem"><a class="navItem" href="/bot-builder/basic/building-voice-bots">Building Voice bots</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Entities</h1></header><article><div><span><p>Before you start how to create entities and understand how to use them in bots, you can start with understanding what are entities by referring to this <a href="https://docs.haptik.ai/bot-builder/basic/intent"><strong>documentation</strong></a>.</p>
<h2><a class="anchor" aria-hidden="true" id="how-to-add-an-entity"></a><a href="#how-to-add-an-entity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to add an entity?</h2>
<p>After selecting the node on which the entity is to be added, click on &quot;<em>Add an Entity</em>&quot;:</p>
<p><img src="/assets/entities_open_node.png" alt="entities open node"></p>
<p>On the popup below, one can search for an entity, from the already existing list of entities.</p>
<p><img src="/assets/entities_add.png" alt="entities add"></p>
<p>Simply click select on one of the existing entities to add it to your node.</p>
<p><strong>Public Entities</strong></p>
<p>Entities which you find in your search results are called as <strong>public</strong> or <strong>system entities</strong>. We have kept few generic entities as public like to store the name of the person, phone number, age, email, etc.</p>
<p>These are the most common public entities -</p>
<pre><code class="hljs">'flight_arrival_city', 'phone_number', 'location', 'product_id', 
'completion_phone_number', 'flight_seat_number', 'utils_city', 
'product_type', 'device_name', 'person_name', 'departure_date', 
'phone_number_without_validation', 'product_name', 'completion_city', 
'completion_email', 'flight_departure_city', 'arrival_date', 'user_name', 
'origin_lat', 'origin_lng', 'date_of_birth', 'date', 'pincode', 
'color', 'age', 'otp_four_digit', 'time', 'time_with_range', 
'completion_location', 'email', 'profession', 'age_range', 'pan_card', 
'feedback_request', 'website_company_name_regex', 'feedback_regex', 
'nps_feedback_range', 'feedback_thumbs', 'url_capturer', 
'disambiguation_negation', 'disambiguation_choice', 'international_phone_number'
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="how-to-create-a-new-entity"></a><a href="#how-to-create-a-new-entity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to create a new entity?</h2>
<p>If you are creating a new entity, then that is called a <strong>local</strong> or <strong>private entity</strong> as they are specific to your bot. To create a new local entity -</p>
<ul>
<li><p>Click on Create Entity if an appropriate entity doesn't exist.</p></li>
<li><p>Enter the name (must be a lower case, underscore separated text) and description of an Entity. Try to make the description as relevant as possible, as it will help you better search for your entity in the future.</p></li>
<li><p>Choose the privacy of the entity based on whether the entity collects any personal information like name, phone number, insurance number. Any information that can be used to identify the user is considered personal.</p>
<p><img src="/assets/entities_create_new_step1.png" alt="entities create new"></p></li>
<li><p>Choose the type of the entity from the following options as shown in the image below</p>
<p><img src="/assets/EntityType.png" alt="Entity Types"></p></li>
<li><p>Enter the Entity Reprompt Message which will be used to ask the values of the entity if there is an incorrect input given by the user in the first chance</p>
<p><img src="/assets/EntityReprompt.png" alt="Entity_Reprompt"></p></li>
<li><p>On clicking 'Save', the entity will be created</p></li>
<li><p>You can add the newly created entity to the existing node, or you can edit the newly created entity.</p></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="how-does-using-an-entity-affect-the-other-bot-says-responses"></a><a href="#how-does-using-an-entity-affect-the-other-bot-says-responses" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How does using an entity affect the other Bot Says responses?</h2>
<p>The flow of Bot Says responses goes from top to bottom in terms of evaluation. <strong>The order of the entities, and their order relative to Bot Says inputs, matters</strong>. First the initial bot reply comes, then the entities, and then finally the final bot reply. The delay message is sent only after a certain level of inactivity. The initial/final bot replies might be not needed in some scenarios. <strong>Note</strong> that to change the order of the Bot Says inputs, simply click and drag the reorder handle.</p>
<blockquote>
<p><strong>Entity Scenarios</strong></p>
<ul>
<li><em><strong>If there are no entities</strong></em>: If it’s a simple node that doesn’t need to collect entities or data, a simple bot says is all that’s needed. You won’t be able to add a final bot reply as that would be redundant as there are no middle steps.</li>
<li><em><strong>If there is one entity</strong></em>: If there’s only one entity, then there is no initial bot reply as that entity’s responses serve as the initial bot reply.</li>
<li><em><strong>If there are multiple entities</strong></em>: If there are multiple entities, then all the responses are required. (Intial Bot Says, Entity Responses as well as the final bot reply).</li>
</ul>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="mandatory-and-optional-entities"></a><a href="#mandatory-and-optional-entities" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mandatory and Optional Entities</h2>
<p>An intent is the desired outcome of the whole user utterance, while entities are data extracted from the user utterance.</p>
<p>Intents are mandatory as they are important pieces of the puzzle to identify the user action or goal.</p>
<p>Entities are optional. You do not need to create entities for every node in your bot, but only for those where it required for the bot to perform an action.</p>
<blockquote>
<p><em>IMPORTANT: If there is transition based on entity value or entity presence, it is recommended to make the entity non-mandatory. Use Default or Final Response to respond to the user message</em></p>
</blockquote>
<p>For example, your reminder bot could consist of three entities -</p>
<p><img src="/assets/bot-builder-user-says/mandatory_entity.png" alt="Mandatory Entity"></p>
<table>
  <tr>
    <td><b>Entity</b></td>
    <td><b>Type</b></td>
    <td><b>Description</b></td>
  </tr>
  <tr>
    <td>date</td>
    <td>mandatory</td>
    <td>‘date’ entity is mandatory to set up meeting reminder</td>
  </tr>
  <tr>
    <td>time</td>
    <td>mandatory</td>
    <td>‘time’ entity is mandatory to set up meeting reminder</td>
  </tr>
  <tr>
    <td>phone_number</td>
    <td>optional</td>
    <td>‘Phone_number’ entity is an optional entity. This is only needed if the user wants a message notification before the meeting</td>
  </tr>
</table>
<p><strong>How does this work?</strong></p>
<p>Add user utterance to the ‘<strong>Meeting reminder node</strong>’.</p>
<p><img src="/assets/bot-builder-user-says/entity_node_usersays.png" alt="Meeting Reminder Node"></p>
<p>When user wants to setup a reminder, the conversation would go as follows -</p>
<ol>
<li>User utterance consists of all the information needed to schedule a meeting.</li>
</ol>
<p><img src="/assets/bot-builder-user-says/entity_user_utterance1.png" alt="User freeform"></p>
<ol start="2">
<li>User utterance only consists of the action information and the entities are missing. In such cases, bot will prompt the user to enter details for mandatory entities.</li>
</ol>
<p><img src="/assets/bot-builder-user-says/entity_user_utterance2.png" alt="User chatform"></p>
<blockquote>
<p><strong><em>Myth</em></strong>: Don't add entity values in user says</p>
<p><strong><em>Reality</em></strong>: Add entity values in user says. If the values are added to the entity dictionary, entities get auto-tagged in the user says.</p>
</blockquote>
<p>For example:</p>
<table>
  <tr>
    <td><b>User says</b></td>
    <td><b>Entity captured</b></td>
  </tr>
  <tr>
    <td>What is the weather like tomorrow in San Francisco</td>
    <td>$location - ‘San Francisco’
$time - ‘tomorrow’</td>
  </tr>
</table>
<h2><a class="anchor" aria-hidden="true" id="how-to-listing-all-entities-of-the-bot"></a><a href="#how-to-listing-all-entities-of-the-bot" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to listing all entities of the bot?</h2>
<p>You can also view all the entities used in the bot in a single place along with their privacy information. This is useful if you want to quickly review all entities and their privacy settings.</p>
<p>You can view this by clickin on <code>More</code> in the top navigation bar and selecting <code>List of Entities</code>. You should then be able to view all entities used in the bot.</p>
<p><img src="/assets/list_of_entities_in_bot.png" alt="list of entities in bot"></p>
<h2><a class="anchor" aria-hidden="true" id="entity-types"></a><a href="#entity-types" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Entity Types</h2>
<p>There are multiple types of entities supported on the Platform. Below image showcases those various types -</p>
<p><img src="/assets/EntityType.png" alt="Entity Types"></p>
<h3><a class="anchor" aria-hidden="true" id="words--phrases-entity"></a><a href="#words--phrases-entity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Words &amp; Phrases Entity</h3>
<p><strong>Words &amp; Phrases</strong> entity is meant to extract &quot;specific&quot; text values e.g. name of a person, name of a city, etc. from user utterances.</p>
<p>There are two ways in which this entity can be used.</p>
<ol>
<li>Dictionary</li>
<li><a href="https://docs.haptik.ai/bot-builder/basic/entities#entity-patterns"><strong>Entity Patterns</strong></a></li>
</ol>
<h4><a class="anchor" aria-hidden="true" id="dictionary"></a><a href="#dictionary" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dictionary</h4>
<p><code>Dictionary</code> allows bot builders to do a full-text search on user queries to extract matching strings and phrases.
<code>Dictionary</code> has two concepts -</p>
<ol>
<li>words - value of an entity.</li>
<li>variants - For a given value, different variations of those words or phrases.</li>
</ol>
<p>Example -  For <strong>city</strong> entity.
<img src="/assets/bot-builder-user-says/entity-dictionary.png" alt="Entity-Dictionary"></p>
<p>You need to enter the details of the dictionary. You can use ‘tab’ to quicky add words and variants. Once variants for a particular word are entered, press enter to store and to add new words and variants.</p>
<p><img src="/assets/entities_create_new_step2.png" alt="entities create new 2"></p>
<p><strong>A few technical details</strong>:</p>
<blockquote>
<p>The ‘Backup’ button will download the current data set for a dictionary.</p>
<p>The ‘Upload New Dictionary’ button will upload data from a csv into the dictionary.</p>
<p>Format for upload and backup: word1|variant1,variant2,variant3 word2|variant4,variant5,variant.</p>
<p>Any other format will be rejected.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="numbers-entity"></a><a href="#numbers-entity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Numbers Entity</h3>
<p><strong>Numbers</strong> entity is meant for collecting numbers within a defined number of digits. You can have a minimum and maximum range of digits.</p>
<p><img src="/assets/NumberEntity.png" alt="Number Entity"></p>
<p>In the above image, you can see a number type entity. Following image shows the range of digits it can accept. If a user inputs anything more or less than the range, it is treated as an invalid value.</p>
<p><img src="/assets/NumberRange.png" alt="Number Range"></p>
<h3><a class="anchor" aria-hidden="true" id="regex-entity"></a><a href="#regex-entity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Regex Entity</h3>
<p><strong>Regex</strong> entity is meant for detecting patterns like email ID, phone number etc. and collect relevent information from user says.</p>
<p><img src="/assets/RegexEntity.png" alt="Regex Entity"></p>
<p>In the above example, if the user is not giving a valid PANCARD number, matching the regular expression pattern, then the entity message would be asking the user for a valid input.</p>
<p>You can refer <a href="https://regex101.com/">https://regex101.com/</a> to learn more about regular expression.</p>
<h3><a class="anchor" aria-hidden="true" id="currency-entity"></a><a href="#currency-entity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Currency Entity</h3>
<p><strong>Currency</strong> entity is meant for matching amounts of money with an indication of a currency type like, &quot;50 rupees&quot;,  &quot;three hundred and fifty dollars&quot;. It returns an object type value consisting of two attribute-value pairs:</p>
<table>
  <tr>
    <td><b>User says</b></td>
    <td><b>Entity captured</b></td>
  </tr>
  <tr>
    <td>I want to pay 50 rupees for the form</td>
    <td>{"unit": "rupees","value":"50.00"}</td>
  </tr>
    <tr>
    <td>I want to transfer three hunders and fifty dollars to Jane</td>
    <td>{"unit": "dollars","value":"350.00"}</td>
  </tr>
</table>
<h3><a class="anchor" aria-hidden="true" id="attachment-entity"></a><a href="#attachment-entity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Attachment Entity</h3>
<p><strong>Attachment</strong> entity is meant for collecting attachments from the user message.</p>
<p><img src="/assets/Video1.png" alt="Attachment Entity"></p>
<p>There are these three types of attachments allowed -</p>
<ul>
<li>Image</li>
<li>Document (pdf, docx, xls, csv)</li>
<li>Video (Only for Whatsapp)</li>
</ul>
<p><img src="/assets/Video2.png" alt="Attachment Entity"></p>
<p>You would need to create a Button HSL for letting the user upload the image and document.</p>
<p><img src="/assets/AttachmentHSL.png" alt="Attachment Example on Bot"></p>
<p>In the above example, if the user is not uploading an image file then the <strong>entity reprompt message</strong> would ask the user for a valid input.</p>
<p><strong>Video</strong> attachment type is only for <strong>Whatsapp bots</strong> as the user will be able to upload videos only on Whatsapp. Once the user successfully uploads the video, he will get an automated message along with the predefined Bot Says messages -</p>
<p>&quot;Please wait while we process your video message.&quot;</p>
<p>For video entity to be captured on a Whatsapp bot, we need to enable the settings from Business Manager as shown below -</p>
<p><img src="/assets/Video3.png" alt="Attachment Entity"></p>
<blockquote>
<p>NOTE - The uploaded video will get deleted in 3 days.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="entity-patterns"></a><a href="#entity-patterns" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Entity Patterns</h2>
<p>Entity Patterns allow the entities to be defined in such a manner that they can be detected on the basis of the context under which the utterance has been made by the User.</p>
<blockquote>
<p><strong>Entity patterns can be added only in English for now.</strong></p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="when-should-you-use-entity-patterns"></a><a href="#when-should-you-use-entity-patterns" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>When should you use ENTITY PATTERNS?</h3>
<p>It can be used in following cases -</p>
<ol>
<li><p>When an entity can take an infinite set of values and using a pre-defined and limited list of values (read - Dictionary) isn't sustainable or possible.</p>
<ul>
<li>Examples of such entities could be:
a. person_name (Bob Marley, Nick Jonas, etc)
b. movie_name (Harry Potter, Matrix Reloaded); or</li>
</ul></li>
<li><p>When names of things i.e nouns (proper or common) from a user utterance are to be extracted,</p></li>
<li><p><em>When not to use</em> - Phrase extraction tasks involving action oriented statements like extracting set up a reminder from I want to set up a reminder should not be done through Entity Patterns. It is prone to unpredictable behaviour.</p></li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="how-to-use"></a><a href="#how-to-use" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to use?</h3>
<p><strong>1.</strong> Go to the Entity Patterns section of an entity. This section is meant to train the bot on the context in which the entity will be detected.</p>
<ul>
<li><p>The context is provided to the bot through sample user utterances or patterns. In this section, those sentences are to be added which contain the entity and the user is expected to utter them.</p></li>
<li><p>It is shown in the image below where the names of courses are detected as an entity.</p></li>
</ul>
<p><img src="/assets/EP_1.png" alt="EP_1"></p>
<p><strong>2.</strong> Once sample utterances have been added, the entity value in the utterance needs to be tagged. The tags are used to explain the IVA about the presence of an entity in that mentioned pattern.</p>
<ul>
<li>The tags of the entity can be added by selecting the phrases and clicking “Add Tag&quot; as shown below.</li>
</ul>
<p><img src="/assets/EP_2.png" alt="EP_2"></p>
<p><strong>3.</strong> Provide some sample utterances which contain the entity value but not the context in which they are to be detected. They are called Negative examples. These utterances should be added but the entity value should not be tagged.</p>
<ul>
<li>The below image can be checked where pattern number 7, 9, 10 in the image are negative examples. A side image showing a working example where negative intents have been added -</li>
</ul>
<p><img src="/assets/EP_3.png" alt="EP_3"></p>
<p>One more illustration below where row number 67 is an example where the pattern is with an appropriate intent, but a different object has been entered to create a negative example.</p>
<p><img src="/assets/EP_4.png" alt="EP_4"></p>
<p><strong>4.</strong> After you are done adding or updating variations, please Train the bot. The entities that are tagged in the ‘Entity Patterns’, get auto-tagged in the User Says section of the node as well.</p>
<ul>
<li>As illustrated in the images below, the phrases with a green underline are entity values of the entity added on the node. You can select the phrase and see which entity was detected for the phrase.</li>
</ul>
<p><img src="/assets/EP_5.png" alt="EP_5"></p>
<p><strong>5.</strong> To ensure that the IVA learns the context accurately, it’s recommended to Add a minimum of 10 sentences for every intent which the user might utter while providing the entity value. User’s Intents form a crucial part of the context in which the entity will be detected.</p>
<ul>
<li>If the IVA is to be trained on detecting a new intent from a user utterance, then 10 more variations should be provided to improve detection of the entity.</li>
</ul>
<p>The emphasis on adding more variants in entity patterns is for ensuring that there is a <strong>reduced probability of false detections.</strong></p>
<p>E.g - for the entity courses -  The intent is to search a course.</p>
<ul>
<li><p><em>I want to search a course on Machine Learning</em></p></li>
<li><p><em>I need to find a course on Marketing and so on till 10 variants have to be added.</em></p></li>
<li><p>But if intent in the context expands to a new &quot;Buy&quot; intent and entity value has to be detected in that context as well, then 10 more variations need to be provided.</p></li>
</ul>
<p>E.g - for the entity courses -  The intent is to buy a course.</p>
<p><em>I want to buy a course on Machine Learning</em></p>
<p><em>Can you help me buy  a course in Marketing and so on till 10 variations.</em></p>
<p><strong>6.</strong> Population of <strong>DICTIONARY</strong> for Entity Patterns - Dictionary in the context of entity patterns serves a different purpose, compared to normal text based entities. It can be explained through an illustration -</p>
<ul>
<li><p>Let’s assume 10 patterns have been added to the Entity Patterns  section. If no dictionary values are present, the IVA will be trained with training data of 10 variations.</p></li>
<li><p>However, if 10 dictionary values are entered in the Dictionary section, the IVA will be trained on 10 patterns X 10 dictionary values i.e 100 variations.</p></li>
<li><p>This helps in making the model <strong>more robust to the variations</strong> in contexts and values.</p></li>
<li><p>It also helps the IVA understand the variation in the nature of entity values, as illustrated better in the example below.</p></li>
</ul>
<p><strong>Example</strong> - Here is the list of entity patterns -</p>
<p><img src="/assets/EP_6.png" alt="EP_6"></p>
<p>Below is the dictionary for the same. Please check that there are variations in the character and word length of entity values as well. This will make the IVA understand variations better.</p>
<p><img src="/assets/EP_7.png" alt="EP_7"></p>
<p>The below image shows the detection due to presence of character and word count variation in the entity values.</p>
<p><img src="/assets/EP_8.png" alt="EP_8"></p>
<p>Some guidelines to make Entity Patterns more robust -</p>
<ol>
<li><p>Vary the position of the entity in sentences in training data</p></li>
<li><p>Avoid spelling errors</p></li>
<li><p>Ensure variety in usage of verbs. E.g if the intent is to find a course, it can be shown with verbs like look, search, find, show, etc.</p></li>
<li><p>Use complete sentences whenever possible. This enables the IVA to perform better on paraphrases</p></li>
</ol>
<p>Aforesaid guidelines are illustrated in the image of Entity Patterns below -</p>
<p><img src="/assets/EP_9.png" alt="EP_9"></p>
<h3><a class="anchor" aria-hidden="true" id="how-do-entity-patterns-work"></a><a href="#how-do-entity-patterns-work" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How do ENTITY PATTERNS work?</h3>
<p>When the entity patterns are defined, the IVA is trained on both the tagged term and the context in which the term is used. This enables the IVA to calculate a confidence score on every User Utterance, on how likely a word or phrase is going to be a value of an entity.</p>
<ul>
<li>When a User Utterance is received, the IVA looks for the context of the sentence in which the entity is mentioned to detect.</li>
</ul>
<p><img src="/assets/EP_10.png" alt="EP_10"></p>
<h3><a class="anchor" aria-hidden="true" id="troubleshooting"></a><a href="#troubleshooting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Troubleshooting</h3>
<p><strong>Entity Detection Failure - Case 1</strong></p>
<p>The IVA should have detected an entity in a particular User Utterance,  but it didn't detect the same. Following steps can be taken to fix the same -</p>
<p>Add that User Utterance to the Entity Patterns, ensuring that for a particular intent, 10 entity patterns are provided.</p>
<p><strong>Example</strong> - Let's say the following User Utterance failed to get detected -</p>
<p><img src="/assets/EP_11.png" alt="EP_11"></p>
<p>Add variations to the Entity Patterns as shown below. They are variations of the Buy intent in 10 different forms -</p>
<p><img src="/assets/EP_12.png" alt="EP_12"></p>
<p>The IVA has been trained again after adding 10 variations and Entity Pattern has been detected.</p>
<p><img src="/assets/EP_13.png" alt="EP_13"></p>
<p><strong>Case 2 - False Detection</strong></p>
<p>This is a case where the IVA is detecting wrong phrases as an entity value. Illustration in the image below -</p>
<p><img src="/assets/EP_14.png" alt="EP_14"></p>
<p>To fix the same, some Negative Variations without tagging the entity value have to be added to the Entity Patterns section, as shown in the image below. They communicate those cases to the IVA where detection need not occur.</p>
<p><img src="/assets/EP_15.png" alt="EP_15"></p>
<p>Below is the case where the detection stopped once the Negative Variations were added to the Entity Patterns. Once the IVA is trained after adding Negative Variations, the detection doesn’t occur.</p>
<p><img src="/assets/EP_16.png" alt="EP_16"></p>
<h2><a class="anchor" aria-hidden="true" id="entity-settings"></a><a href="#entity-settings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>Entity Settings</strong></h2>
<p>We have 4 main Advanced Settings options under entities.</p>
<h3><a class="anchor" aria-hidden="true" id="1-previous-context-tags"></a><a href="#1-previous-context-tags" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Previous Context Tags</h3>
<p><strong>What is Context from an IVA perspective?</strong></p>
<p>Context is linguistically defined as the background in which the conversation is taking place. From the IVA perspective, it can involve retaining the memory of any piece of information that has been either derived from past user behavior, the action performed by the IVA, or has been explicitly given by the user.</p>
<p><strong>What is stored in the form of Context on an IVA?</strong></p>
<ul>
<li>It can involve information like Nodes traversed by the IVA in the conversation, Entity values collected, ML Module which sent the last reply e.g Disambiguation, Small Talk, etc.</li>
<li>The user’s name, email, phone number, etc explicitly provided by him, will also form a part of the context. The context needs to be stored before it can be used.</li>
</ul>
<p><strong>When is the context information deleted?</strong>
The context is deleted by the system in case if any of the following events occur:</p>
<ul>
<li>When an END NODE is encountered by the IVA in the conversation</li>
<li>When an agent marks the conversation as COMPLETE from Agent Chat tool</li>
<li>When a chat auto-completes after 8 mins of inactivity</li>
</ul>
<p><strong>Where can you configure the previous_context_tag?</strong></p>
<ul>
<li>The previous_context_tag is configured at an entity level and is present in the Entity under the Advanced options.</li>
</ul>
<p><strong>Why and when to use the previous_context_tag?</strong></p>
<ul>
<li>It should be used when you want an entity value to be filled after the bot has asked for it</li>
</ul>
<p>For eg. If you have a use case where you have two similar types of entity in the same flow with different values to be filled in each one of those, then you can differentiate them using the prev_context_tags. So an entity value will be filled up only if certain words are present in the previous bot says which we have put under prev_context_tags (the unique words/phrases present in the bot says is the prev_context_tags for that entity)</p>
<p><strong>Is it mandatory to use it on every entity?</strong></p>
<ul>
<li>No, it is not mandatory to use previous_context_tags on all entities, it entirely depends on the use case, and if it is required.</li>
</ul>
<p><strong>How to use a prev_context_tag?</strong></p>
<ul>
<li>Let’s take an example where we need to store 2 different mobile numbers from a user in the same flow as the primary &amp; secondary mobile number.</li>
</ul>
<p>There is a node where we will be asking a user to provide primary &amp; secondary mobile numbers, so here we will need 2 different entities with the same type and validation to store them separately.</p>
<p>Created an entity for the <strong>primary number</strong> which has a Bot Says as “Please enter your primary number” and for <strong>secondary number</strong> with Bot Says as “Please enter your secondary number” as shown below</p>
<p><img src="/assets/ES_1.png" alt="ES_1"></p>
<p>So here as you can see the unique word which differentiates both the entities is <strong>“primary”</strong> which we will use as <strong>prev_context_tag</strong> for primary mobile number entity.</p>
<p><img src="/assets/ES_2.png" alt="ES_2"></p>
<p>and <strong>“secondary”</strong> for secondary mobile number entity as shown below</p>
<p><img src="/assets/ES_3.png" alt="ES_3"></p>
<p>Now whenever the Bot Says has <strong>“primary”</strong> word it will store the user entered mobile number in the <strong>primary_mobile_number</strong> entity only as primary keyword is used as a <strong>prev_context_tag</strong> in that entity and will not store it in <strong>secondary_mobile_number</strong> entity.</p>
<p>Check below image with debug logs how the <strong>prev_context_tag</strong> works and stores the value in the respective entity.</p>
<p><img src="/assets/ES_4.png" alt="ES_4"></p>
<blockquote>
<p><strong>It is not mandatory to only use words, you can also use phrases for the context retention in prev_context_tag.</strong></p>
</blockquote>
<p><img src="/assets/ES_5.png" alt="ES_5"></p>
<h3><a class="anchor" aria-hidden="true" id="2-payload-keys"></a><a href="#2-payload-keys" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Payload Keys</h3>
<p><strong>What is Payload?</strong></p>
<p>Payload is the data that you want to send with a user text via button/Quick reply which is not visible to the user but can be stored in the entity and we can use this data in further flows wherever required.</p>
<p><strong>Where can you use this?</strong></p>
<p>You can use this functionality when you are showing the same user message for various options but want the selected option to be saved in the entity.</p>
<p><strong>How does a payload functionality work?</strong></p>
<p>In a flow where we have multiple products to display with the same text, we will pass a unique value as a hidden message in the button using the payload, and whenever a user selects an option, the data is passed as a hidden message button gets stored in the entity. Once we have the payload value stored in the entity, we can use this entity to start a certain flow or if required we can use this entity value in future flows.</p>
<p><strong>How to use the payload?</strong></p>
<p>Implementation of the payload can be divided into 2 parts</p>
<p>A. Storing the payload values in the entity
B. Passing the correct payload values in the CTA</p>
<p>Here is an example to understand this concept -</p>
<p>Let’s take a use case where we need to display multiple plans for Netflix with the same button text as <strong>Know more</strong>. So after the user selects any particular plan by clicking on Know more button, it should land on that particular plan &amp; start the flow.</p>
<p>So here we need to pass a unique value for every plan in the payload and store these values in an entity. After the user selects an option using <strong>Know more</strong> CTA, a payload will be passed with the entity value which will trigger the required flow using a connection of entity by value.</p>
<p><strong>Why do we need an Entity here?</strong></p>
<ul>
<li>If we do not use an entity to store the value and distinguish the flow for the same <strong>Know more</strong> button, the bot will not understand which button was selected by the user and will trigger the wrong flow by treating it as a user says. So instead we pass a hidden message with a value that is stored in the entity that helps in transition or future flows.</li>
</ul>
<p><strong>Implementation</strong></p>
<ol>
<li>Creating &amp; storing the values in the entity</li>
</ol>
<p>a. Create a Word &amp; phrases entity</p>
<p><img src="/assets/ES_6.png" alt="ES_6"></p>
<p>b. Click on Advanced options and enter the <strong>Payload_keys</strong> &amp; <strong>Context_keys</strong> you want as per your use case, in the below example we have used <strong>plan</strong> &amp; <strong>planid</strong> for <strong>purchase a plan</strong> use case</p>
<p><img src="/assets/ES_7.png" alt="ES_7"></p>
<p>c. Click on the Dictionary option present in the top and enter all Entity values you need for your buttons. In this case, as we have 4 plans so we created 4 dictionary values with proper variations as shown below</p>
<p><img src="/assets/ES_8.png" alt="ES_8"></p>
<p>d. Save the entity and click on <strong>Add to bot says</strong> to add the entity on that node.</p>
<p>As the entity is already created with all the values, now we need to create a CTA from where the user can select the option.</p>
<p>In the below example, we are using a carousel to display the different plans to users i.e Mobile, Mobile+, Standard, and Premium as added in the Entity which will have the same button text as <strong>Know more</strong>.</p>
<p><img src="/assets/ES_9.png" alt="ES_9"></p>
<ol start="2">
<li>Passing the payload value in the CTA</li>
</ol>
<p>a. Add a <strong>Know more</strong> button with button type as Text in the carousel and pass the payload value with the proper syntax in the Message to send box</p>
<p><img src="/assets/ES_10.png" alt="ES_10"></p>
<p>b. Syntax: <strong>Button text{api_name:payload_key, completion_key:entity_value}</strong></p>
<p>This is the basic syntax for creating a payload where Button text is nothing but the text which is displayed as a user message on the bot after clicking on the button as shown below, in this case, it is <strong>Know more</strong></p>
<p><img src="/assets/ES_11.png" alt="ES_11"></p>
<p><strong>api_name</strong> key will stay as it is for all the implementation.</p>
<p><strong>payload_key</strong> is the name you have given under Advanced Settings of the entity. This will be the same in all buttons for this use case, in this case we have used <strong>plan</strong> as the payload key.</p>
<p><strong>completion_key</strong> is the name you have given for <strong>context key</strong> under Advanced Settings of the entity, in this case we have used <strong>planid</strong> as the context key.</p>
<p><strong>entity_value</strong> is the value you want to store in the entity when a user clicks on a CTA and this value will be different for every Button, in this case the entity values are mobile, mobile plus, standard, premium which we have entered under the Dictionary of the entity.</p>
<blockquote>
<p><strong>The entity value is the only parameter that will be different in each Know more button.</strong></p>
</blockquote>
<p><img src="/assets/ES_12.png" alt="ES_12"></p>
<p>As you can see after selecting the <strong>Mobile+ plan</strong> the entity value is Mobile plus which was passed in the payload - <strong>Know more {api_name:plan, planid:mobile plus}</strong></p>
<p><strong>Note:</strong></p>
<ol>
<li>payload_key, completion_key, and entity_value will be needed while creating the entity.</li>
<li>You cannot use capital letters to create any payload parameters.</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="node-entity-filter"></a><a href="#node-entity-filter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Node Entity Filter</h2>
<h3><a class="anchor" aria-hidden="true" id="what-is-the-feature"></a><a href="#what-is-the-feature" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is the feature?</h3>
<p>The <em>Node-Entity Filter is the property of the Node-Entity combination</em>. The filter <strong>MAY</strong> come into picture <strong>after</strong> the ML Intent Detection algorithms have shortlisted NODES as per the User Utterance <strong>and</strong> a decision is being made on which is the perfect NODE to respond to the User Utterance.</p>
<p>The Node-Entity Filter MAY cause a NODE to be removed from the above shortlist of NODES. But it can’t get a particular NODE added to the shortlisted NODES, if Intent Detection algorithms haven’t found such a NODE suitable. It is shown in subsequent sections below.</p>
<h3><a class="anchor" aria-hidden="true" id="when-to-use"></a><a href="#when-to-use" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>When to Use?</h3>
<ol>
<li><p>When a Bot Builder wants a NODE to be shortlisted for response only when a specific entity value is present in a particular User Utterance.</p></li>
<li><p>When a Bot Builder wants to set a particular entity value as default when a User arrives at a particular node.</p></li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="how-to-use-1"></a><a href="#how-to-use-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to Use?</h3>
<p>Below is a snapshot from the dictionary of the sample entity demo_city_entity_filter which has been used to illustrate this feature.</p>
<p><img src="/assets/NEF_1.png" alt="NEF_1"></p>
<p>The <strong>Node-Entity Filter</strong> can be added by clicking the “<strong>filter</strong>” icon shown in the black circle in the  below image.</p>
<p><img src="/assets/NEF_2.png" alt="NEF_2"></p>
<p>Once the icon is clicked, a dialog box appears where the values can be set. The entity value has to be entered in the <strong>“Add a new word”</strong> section. Press Enter to save the filter after entering the value.</p>
<p><img src="/assets/NEF_3.png" alt="NEF_3"></p>
<p>Please note that <strong>“ENTITY VALUES” have to be added and not variants</strong> as shown in the images below for the same. Here, “HYD” is added as a filter value. <strong>HYD in this case is an entity value and not an entity variant</strong>.</p>
<p><img src="/assets/NEF_4.png" alt="NEF_4"></p>
<p>Once a filter has been added, the “<strong>filter</strong>” icon appears blue as shown in the image below.</p>
<p><img src="/assets/NEF_5.png" alt="NEF_5"></p>
<p>Let’s take a few illustrations as shown in images below - An <strong>Entity Filter Demo Node</strong> has been created with User Says as shown below. The <strong>demo_city_filter_node</strong> entity has been added with <strong>filter HYD</strong> to the same node.</p>
<p><img src="/assets/NEF_6.png" alt="NEF_6"></p>
<p><strong>Illustration 1</strong> - As shown in the image below, When an <strong>entity variant (Mumbai)</strong> was present in the User Utterance, but was not present in the Node-Entity Filter, the <strong>Entity Filter Demo Node was not shortlisted</strong> and hence the Bot Broke.</p>
<p>As per Intent Detection ML Algorithm, Entity Filter Demo Node was shortlisted for responding, but since Node-Entity Filter was set to HYD, the NODE was rejected as a candidate while responding.</p>
<p><img src="/assets/NEF_7.png" alt="NEF_7"></p>
<p><strong>Illustration 2</strong> - As shown in the image below, when the <strong>entity variant (Hyderabad)</strong> corresponding to entity value <strong>HYD</strong> was present in the User Utterance and in the Node-Entity Filter as well, the Entity Filter Demo Node was shortlisted. Hence, the Bot responded from that node.</p>
<p>This is how normal Intent Detection works, with no impact of Node-Entity filter coming into play.</p>
<p><img src="/assets/NEF_8.png" alt="NEF_8"></p>
<p>Illustration 1 and 2 can be compared to get a complete understanding of the Node-Entity Filter feature.</p>
<p><strong>Illustration 3</strong> - Here’s another illustration on what Node-Entity Filter <strong>doesn’t do</strong>.</p>
<ul>
<li>When the entity variant corresponding to entity value HYD was present in the User Utterance but the NODE Entity Filter Demo Node was not an appropriate node for response as per the ML Intent Detection Algorithms, that particular node was not shortlisted for responding.</li>
</ul>
<p>Another more appropriate node was chosen to respond as shown below.</p>
<p><img src="/assets/NEF_9.png" alt="NEF_9"></p>
<p>But when <strong>ENTITY FILTER DEMO NODE</strong> was the correct candidate as per the Intent Detection ML Algorithm, then that NODE was shortlisted and a response was sent from that Node.</p>
<p><img src="/assets/NEF_10.png" alt="NEF_10"></p>
<p><strong>Illustration 4</strong> - Below image shows a case when User Utterance had no mention of any entity value. User Utterance matched the <strong>Entity Filter Demo Node</strong> through ML Intent Detection Algorithms. However, when the User reached that NODE, the <strong>Node-Entity Filter</strong> was set as default value for the <strong>demo_city_filter_node entity</strong>. Please notice that no filtering is applied in such a scenario.</p>
<p><img src="/assets/NEF_11.png" alt="NEF_11"></p>
<p><strong>Illustration 5</strong> - If there are multiple values present in the filter list as shown in the image below, the <strong>most recently added value</strong> would be set as default for that entity, which is BOM in the below illustrated case.</p>
<p><img src="/assets/NEF_12.png" alt="NEF_12"></p>
<h3><a class="anchor" aria-hidden="true" id="how-does-it-work"></a><a href="#how-does-it-work" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How does it work?</h3>
<p>For understanding, Let’s take the above entity <strong>demo_city_entity_filter</strong>. It’s values are DEL, HYD, MAD, BOM and <strong>HYD</strong> has been set as a Node-Entity Filter.</p>
<p>If an entity value HYD is set as a Node-Entity Filter, then that NODE will be eligible to be shortlisted only if 2 cases mentioned below occur -</p>
<p><strong>1.</strong> When <strong>variants of HYD</strong> from the entity dictionary are present in the User Utterance.</p>
<p><strong>As a corollary</strong>, it can be said that if entity demo_city_entity_filter is added to a NODE with HYD Node-Entity Filter, and any other entity variant of demo_city_entity_filter is present in User Utterance like BOM, then that particular NODE will not be shortlisted to respond. It’s shown in <strong>Illustration 1</strong> above.</p>
<p><strong>2.</strong> When <strong>no entity value</strong> corresponding to the entity <strong>demo_city_entity_filter</strong> is present in the User Utterance.</p>
<ul>
<li>There is an additional impact in this use-case. When a User Utterance contains no entity value for <strong>demo_city_entity_filter</strong> entity and the User Utterance selects a NODE to respond where a Node-Entity filter is set, the Bot will make the value of entity <strong>demo_city_entity_filter</strong> default to that value for which filter has been set. It’s shown in <strong>Illustration 4 and 5 above</strong>.</li>
</ul>
<p><strong>Note -</strong></p>
<ol>
<li>There is no deterministic rule or an assurance that whenever a User Utterance contains a particular entity variant which is a Node-Entity Filter at a NODE, then that NODE will be automatically chosen to respond irrespective of the Utterance. It’s shown in Illustration 3 above.</li>
</ol>
<p>The response to the User will still be from a Node which has Highest Confidence score as per the Intent detection Algorithm. The Node-Entity Filter only removes a particular NODE from the shortlist of candidate nodes.</p>
<ol start="2">
<li><p><strong>LIMITATION</strong> - The Node-Entity Filter works only in cases where the Entity is either a <strong>“Words or Phrases”</strong> or a <strong>Regex Type</strong> and the entity should not return a dictionary, but only a specific value. For “Words or Phrases” entities, the value entered in Node-Entity Filter is <strong>case sensitive</strong> as well.</p></li>
<li><p>Say, there are 2 entities having Node-entity Filter on a particular NODE, then the NODE will become eligible for being shortlisted only if
a. The User Utterance has no entity values, or
b. The User Utterance has both the entity values on which filter has been applied.</p></li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="language-support-for-different-entities"></a><a href="#language-support-for-different-entities" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Language Support for Different Entities</h2>
<table>
  <tr>
    <td><b>Entity type</b></td>
    <td><b>Description</b></td>
    <td><b>Example</b></td>
    <td><b>Supported languages - ISO 639-1code</b></td>
  </tr>
  <tr>
    <td>Time</td>
    <td>Detect time from given text.</td>
    <td>tomorrow morning at 5, कल सुबह ५ बजे, kal subah 5 baje</td>
    <td>'en', 'hi', 'gu', 'bn', 'mr', 'ta'</td>
  </tr>
  <tr>
    <td>Date</td>
    <td>Detect date from given text</td>
    <td>next monday, agle somvar, अगले सोमवार</td>
    <td>'en', 'hi', 'gu', 'bn', 'mr', 'ta'</td>
  </tr>
  <tr>
    <td>Number</td>
    <td>Detect number and respective units in given text</td>
    <td>50 rs per person, ५ किलो चावल, मुझे एक लीटर ऑइल चाहिए</td>
    <td>'en', 'hi', 'gu', 'bn', 'mr', 'ta'</td>
  </tr>
  <tr>
    <td>Phone number</td>
    <td>Detect phone number in given text</td>
    <td>9833530536, +91 9833530536, ९८३३४३०५३५</td>
    <td>'en', 'hi', 'gu', 'bn', 'mr', 'ta'</td>
  </tr>
  <tr>
    <td>Email</td>
    <td>Detect email in text</td>
    <td>hello@haptik.co</td>
    <td>'en'</td>
  </tr>
  <tr>
    <td>Text</td>
    <td>Detect custom entities in text string using full text search in Datastore or based on contextual model</td>
    <td>Order me a pizza,मुंबईमें मौसम कैसा है</td>
    <td>Search supported for 'en', 'hi', 'gu', 'bn', 'mr', 'ta', Entity Patterns supported for 'en' only</td>
  </tr>
  <tr>
    <td>PNR</td>
    <td>Detect PNR (serial) codes in given text.</td>
    <td>My flight PNR is 4SGX3E</td>
    <td>'en'</td>
  </tr>
  <tr>
    <td>Regex</td>
    <td>Detect entities using custom regex patterns</td>
    <td>My flight PNR is 4SGX3E</td>
    <td>NA</td>
  </tr>
  <tr>
    <td>City</td>
    <td>CityDetector detects cities from the text</td>
    <td>From Mumbai, To Mumbai, via Mumbai, atms in Mumbai</td>
    <td>'en'</td>
  </tr>
  <tr>
    <td>Budget</td>
    <td>Detects the budget from the text. This detector captures additional attributes like max_budget, min_budget whether the budget is normal_budget</td>
    <td>shirts between 2000 to 3000</td>
    <td>'en'</td>
  </tr>
  <tr>
    <td>Shopping size</td>
    <td>Detects size which are used for shopping from the text</td>
    <td>Suggest me shirt of size X-Large</td>
    <td>'en'</td>
  </tr>
  <tr>
    <td>Currency</td>
    <td>Detects currency and the value from the given text</td>
    <td>My Salary is $100000</td>
    <td>'en'</td>
  </tr>
  <tr>
    <td>Number Range</td>
    <td>Detects number range from the given text</td>
    <td>Suggest a phone in the price range of 10000 to 15000</td>
    <td>'en', 'hi', 'gu', 'bn', 'mr', 'ta'</td>
  </tr>
</table>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 11/4/2020</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/bot-builder/basic/connections"><span class="arrow-prev">← </span><span>Connections</span></a><a class="docs-next button" href="/bot-builder/basic/forms"><span>Forms</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#how-to-add-an-entity">How to add an entity?</a></li><li><a href="#how-to-create-a-new-entity">How to create a new entity?</a></li><li><a href="#how-does-using-an-entity-affect-the-other-bot-says-responses">How does using an entity affect the other Bot Says responses?</a></li><li><a href="#mandatory-and-optional-entities">Mandatory and Optional Entities</a></li><li><a href="#how-to-listing-all-entities-of-the-bot">How to listing all entities of the bot?</a></li><li><a href="#entity-types">Entity Types</a><ul class="toc-headings"><li><a href="#words--phrases-entity">Words &amp; Phrases Entity</a></li><li><a href="#numbers-entity">Numbers Entity</a></li><li><a href="#regex-entity">Regex Entity</a></li><li><a href="#currency-entity">Currency Entity</a></li><li><a href="#attachment-entity">Attachment Entity</a></li></ul></li><li><a href="#entity-patterns">Entity Patterns</a><ul class="toc-headings"><li><a href="#when-should-you-use-entity-patterns">When should you use ENTITY PATTERNS?</a></li><li><a href="#how-to-use">How to use?</a></li><li><a href="#how-do-entity-patterns-work">How do ENTITY PATTERNS work?</a></li><li><a href="#troubleshooting">Troubleshooting</a></li></ul></li><li><a href="#entity-settings"><strong>Entity Settings</strong></a><ul class="toc-headings"><li><a href="#1-previous-context-tags">1. Previous Context Tags</a></li><li><a href="#2-payload-keys">2. Payload Keys</a></li></ul></li><li><a href="#node-entity-filter">Node Entity Filter</a><ul class="toc-headings"><li><a href="#what-is-the-feature">What is the feature?</a></li><li><a href="#when-to-use">When to Use?</a></li><li><a href="#how-to-use-1">How to Use?</a></li><li><a href="#how-does-it-work">How does it work?</a></li></ul></li><li><a href="#language-support-for-different-entities">Language Support for Different Entities</a></li></ul></nav></div><footer class="nav-footer" id="footer"><div class="footer"><a href="https://haptik.ai/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/image_0.png" alt="Haptik Inc." width="100"/></a><div class="footer-columns"><div class="footer-column"><div class="footer-column-title">Tools</div><div class="footer-column-links"><a href="https://docs.haptik.ai/bot-builder/basic/introduction" class="footer-column-link">Conversation Studio</a><a href="https://docs.haptik.ai/agent-chat/" class="footer-column-link">Smart Agent Chat</a><a href="https://docs.haptik.ai/bot-analytics/" class="footer-column-link">Intelligent Analytics</a></div></div><div class="footer-column"><div class="footer-column-title">Integrations</div><div class="footer-column-links"><a href="https://docs.haptik.ai/ios-sdk/" class="footer-column-link">iOS SDK</a><a href="https://docs.haptik.ai/android-sdk/" class="footer-column-link">Android SDK</a><a href="https://docs.haptik.ai/web-sdk/" class="footer-column-link">Web SDK</a><a href="https://docs.haptik.ai/whatsapp/" class="footer-column-link">WhatsApp</a><a href="https://docs.haptik.ai/other/facebook" class="footer-column-link">Facebook</a><a href="https://docs.haptik.ai/webhooks/" class="footer-column-link">Bot API</a></div></div><div class="footer-column"><div class="footer-column-title">Others</div><div class="footer-column-links"><a href="https://docs.haptik.ai/hsl/" class="footer-column-link">HSL</a><a href="https://docs.haptik.ai/other/security" class="footer-column-link">Security</a><a href="https://docs.haptik.ai/other/sla" class="footer-column-link">SLA</a><a href="https://docs.haptik.ai/external-chat-tool/" class="footer-column-link">External Agent Chat Tool</a></div></div></div><div class="footer-copyright"></div></div><section class="copyright">Copyright © 2020 Haptik Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '224c7079e67e84a978d8b4621f6af16d',
                indexName: 'haptik',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>