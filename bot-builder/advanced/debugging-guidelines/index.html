<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>How to debug your bot? · Haptik Docs</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Oh no! Your bot’s not working the way you expected it to? Follow this step by step guide to debug your bot. The debug window is broken into two segments:"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="How to debug your bot? · Haptik Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.haptik.ai/"/><meta property="og:description" content="Oh no! Your bot’s not working the way you expected it to? Follow this step by step guide to debug your bot. The debug window is broken into two segments:"/><meta property="og:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="robots" content="noindex"/><link rel="shortcut icon" href="/img/image_0.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-106563119-6', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/js/index.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/image_0.png" alt="Haptik Docs"/><h2 class="headerTitleWithLogo">Haptik Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/#tools" target="_self">Tools</a></li><li class=""><a href="/#integrations" target="_self">Integrations</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">How to debug your bot?</h1></header><article><div><span><p>Oh no! Your bot’s not working the way you expected it to? Follow this step by step guide to debug your bot. The debug window is broken into two segments:</p>
<ol>
<li>Basic Info - The Basic Info section provides a high level overview of the bot logs in an easy to read UI.</li>
<li>Detailed Info - The Detailed Info section of the debug window provides a full JSON of all the log details.</li>
</ol>
<p><img src="/assets/debug2.png" alt="Debug Window"></p>
<p>The failure of the bot can be bucketed into 5 categories</p>
<ol>
<li><p><strong>Wrong Bot</strong> getting detected</p>
<p>If an undesired bot (domain) is detected, then open the business manager and make sure you have selected the right bot.</p>
<p><img src="/assets/debug_wrong_bot_basic_info.png" alt="Wrong Bot Detected Basic Info"></p>
<p><img src="/assets/debug_wrong_bot.png" alt="Wrong Bot Detected"></p>
<p>Example scenarios - There was a bot detected but it wasn't the active bot and the pipeline used the default bot configured on the business manager.</p>
<p>Another case is when no active bot was detected and also no default bot was configured on the business manager. In such a case the pipeline detects the fallback bot that was configured on business manager.</p></li>
<li><p><strong>Wrong Node</strong> or <strong>No Node</strong> detected</p>
<p>There could be multiple things going wrong here</p>
<ul>
<li><p><em>User says error</em>: You should be able to solve all Intent Detection issues following the given flow-chart</p>
<p><img src="/assets/debug_intent_detection.png" alt="Intent Detection Bug"></p></li>
<li><p><em>Connections error</em>: User transitioned from Node A to a start node instead of moving to connected Node B. This happens because B was not a start node</p></li>
</ul></li>
<li><p><strong>No Entity</strong> detected</p>
<p><img src="/assets/debug_entities_basic_info.png" alt="Basic Info Wrong Entity Detected"></p>
<p><img src="/assets/debug_no_entity.png" alt="Wrong Entity Detected"></p>
<p>When entities are not detected on a node -</p>
<ul>
<li><p>For <em>local entities</em> with entity values - Check if the right values are populated in the entity dictionary on the detected node.</p></li>
<li><p>For <em>system entities</em> - Check if the entity is present on the detected node.</p>
<ul>
<li><p>If it is not present, add it to the node.</p></li>
<li><p>If it is present and entity was not detected, reach out to ML support.</p></li>
</ul></li>
</ul></li>
<li><p><strong>Wrong Entity</strong> detected</p>
<p>When wrong entity is detected, check if the right entity is present on the detected node.</p>
<p><strong>Note:</strong> Not all entity types will be available on the basic info section. You can use the detailed info section to view data of such entities. The basic info section will provide a warning message when it detects an entity of such type.</p></li>
</ol>
<p>In any of the cases mentioned above, the following information / concepts might be useful while building debugging guidelines</p>
<p><img src="/assets/debug_flow_chart.png" alt="Debug Debug Chart"></p>
<p><strong>Debugging Example</strong></p>
<p>Lets say you have a node which has following sentences:</p>
<ul>
<li>Benefits of SIP</li>
<li>SIP's benefits</li>
<li>tell me about benefits of SIP</li>
</ul>
<p>And while you were testing your bot, following testing
guidelines, you found out that the bot is giving false
positives for following sentences:</p>
<ul>
<li>Benefits of bvdfbv fjdb</li>
<li>cricket's benefits</li>
<li>benefits</li>
</ul>
<p>then what you should do is:</p>
<ul>
<li><p>Add variations of your sentence with different sentence
structure + different words with the sentence meaning the same, Eg:</p>
<ul>
<li>Tell me about the advantages of SIP</li>
<li>how will i benefit with SIP</li>
<li>How is SIP beneficial</li>
<li>Good things about SIP</li>
<li>I’ve heard SIP is good. Can you tell me how?</li>
</ul></li>
<li><p>Add negative variations in negative response, Eg:</p>
<ul>
<li>Bhdcbdhvb SIP</li>
<li>SIP</li>
<li>Benefits njvjdfvnj jnvjdfvjfv SIP SIP</li>
<li>how</li>
<li>good</li>
</ul></li>
</ul>
<p><strong>We strongly advice you to prefer solving the problem by adding variations
in user-says than by adding variations in negative-response. Irrespective,
the number of sentences in your user says should be at least 2-3 times
higher than the number of sentences in negative-response</strong></p>
<h4><a class="anchor" aria-hidden="true" id="disambiguate-message"></a><a href="#disambiguate-message" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><strong>Disambiguate message</strong></h4>
<p>How you see the Node list for a user’s message (clicking &quot;<em>Log</em>&quot; icon on image above), the bot builder would be able to see all nodes considered for disambiguation message and their specific metadata in “<em>Log”</em> view.</p>
<p><img src="/assets/debug_disambiguate_logs.png" alt="Disambiguate Logs"></p>
<p>Example Disambiguation logs:</p>
<p><img src="/assets/debug_disambiguate_nodelist.png" alt="Disambiguate Node List"></p>
<p>When you get more than 1 node(s) in the node_list, we send a disambiguate message. In this scenario, you would be able to check</p>
<ol>
<li><p>More than 1 node detected for disambiguation</p></li>
<li><p>User says variant matched for each detected node</p></li>
<li><p>Individual scores for each detected node</p></li>
</ol>
<p>For cases when we sent a disambiguate message, but we should not have disambiguated you should add the user’s message as a <em>user says</em> variant in the relevant node which ideally should have been detected.</p>
<p>And scenarios where we did not disambiguate, but <strong>we should have sent a disambiguation message</strong> can’t be found directly. However, as a bot builder we can look for the following to filter cases where disambiguation was needed -</p>
<ol>
<li><p>User messages on which Bot break happened</p></li>
<li><p>Bot responses with negative user feedback</p></li>
<li><p>Conversations with 1 or 2 rating i.e. low end conversation feedback</p></li>
</ol>
<blockquote>
<p><strong><em>Pro Tip -</em></strong></p>
<p><em>Spell correction and normalisation</em></p>
<ol>
<li><p><em>Training email will contain details related to spelling corrections done by our systems. To learn more, checkout spell correction section</em></p></li>
<li><p><em>Real time logs will contain dictionary with original words from user query and corresponding spell corrections performed by the system.</em></p></li>
</ol>
<p><em>If the corrected spelling is wrong, please reach out to ML support with screenshots and details related to expected behavior.</em></p>
</blockquote>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 4/16/2021</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><div class="footer"><a href="https://haptik.ai/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/image_0.png" alt="Haptik Inc." width="100"/></a><div class="footer-columns"><div class="footer-column"><div class="footer-column-title">Tools</div><div class="footer-column-links"><a href="https://docs.haptik.ai/bot-builder/basic/introduction" class="footer-column-link">Conversation Studio</a><a href="https://docs.haptik.ai/agent-chat/" class="footer-column-link">Smart Agent Chat</a><a href="https://docs.haptik.ai/bot-analytics/" class="footer-column-link">Intelligent Analytics</a></div></div><div class="footer-column"><div class="footer-column-title">Integrations</div><div class="footer-column-links"><a href="https://docs.haptik.ai/ios-sdk/" class="footer-column-link">iOS SDK</a><a href="https://docs.haptik.ai/android-sdk/" class="footer-column-link">Android SDK</a><a href="https://docs.haptik.ai/web-sdk/" class="footer-column-link">Web SDK</a><a href="https://docs.haptik.ai/whatsapp/" class="footer-column-link">WhatsApp</a><a href="https://docs.haptik.ai/other/facebook" class="footer-column-link">Facebook</a><a href="https://docs.haptik.ai/webhooks/" class="footer-column-link">Bot API</a></div></div><div class="footer-column"><div class="footer-column-title">Others</div><div class="footer-column-links"><a href="https://docs.haptik.ai/hsl/" class="footer-column-link">HSL</a><a href="https://docs.haptik.ai/other/sla" class="footer-column-link">SLA</a><a href="https://docs.haptik.ai/external-chat-tool/" class="footer-column-link">External Agent Chat Tool</a></div></div></div><div class="footer-copyright"></div></div><section class="copyright">Copyright © 2021 Haptik Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '224c7079e67e84a978d8b4621f6af16d',
                indexName: 'haptik',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>