<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Message Analysis · Haptik Docs</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="In the Intelligent Analytics tool you can go to the &quot;*Message Analysis*&quot; section to analyse the bot performance at a message level."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Message Analysis · Haptik Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.haptik.ai/"/><meta property="og:description" content="In the Intelligent Analytics tool you can go to the &quot;*Message Analysis*&quot; section to analyse the bot performance at a message level."/><meta property="og:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="robots" content="noindex"/><link rel="shortcut icon" href="/img/image_0.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-106563119-6', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/js/index.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/image_0.png" alt="Haptik Docs"/><h2 class="headerTitleWithLogo">Haptik Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/#tools" target="_self">Tools</a></li><li class=""><a href="/#integrations" target="_self">Integrations</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Sections</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-analytics/">Introduction</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Sections</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-analytics/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/bot-analytics/story-analysis">Story Analysis</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/bot-analytics/using-message-analysis">Message Analysis</a></li><li class="navListItem"><a class="navItem" href="/bot-analytics/ai-recommendations">AI Recommendations</a></li><li class="navListItem"><a class="navItem" href="/bot-analytics/word-analysis">Word Analysis</a></li><li class="navListItem"><a class="navItem" href="/bot-analytics/smart-funnel">Smart Funnel</a></li><li class="navListItem"><a class="navItem" href="/bot-analytics/user-ratings">User Ratings</a></li><li class="navListItem"><a class="navItem" href="/bot-analytics/user-reviews">User Reviews</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Resources</h3><ul class=""><li class="navListItem"><a class="navItem" href="/bot-analytics/analytics-reports">Reporting</a></li><li class="navListItem"><a class="navItem" href="/bot-analytics/analytics-best-practices">Best Practices</a></li><li class="navListItem"><a class="navItem" href="/bot-analytics/analytics-faqs">FAQs</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Message Analysis</h1></header><article><div><span><p>In the Intelligent Analytics tool you can go to the &quot;<em>Message Analysis</em>&quot; section to analyse the bot performance at a message level.</p>
<p><img src="/assets/ma1.png" alt="Message Analysis Left Menu"></p>
<p>You can start by selecting a specific channel or bot and setting the time period. And then you should see a page with options to filter and analyse the messages sent and received by your bot.</p>
<p>The top half of the page consists of multiple filters. We will go through each of these filters and understand how they can be used later in this document.</p>
<p><img src="/assets/ma2.png" alt="Message Analysis Filters"></p>
<p>Below the filters you have a table of data where you can see the messages processed by clicking on the <code>View Messages</code> link. Or you can choose to see the conversations of your bot by clicking on the <code>View Conversations</code> link.</p>
<blockquote>
<p>Tip: A conversation is a set of messages processed to perform a task.</p>
</blockquote>
<p>The data in the tables are paginated and you can scroll to different pages of the table by using the navigation icons below the table.</p>
<p><img src="/assets/message-analysis-table-pagination.png" alt="Pagination Navigation"></p>
<h2><a class="anchor" aria-hidden="true" id="view-messages"></a><a href="#view-messages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>View Messages</h2>
<p>The View Messages section of the page which can be accessed by clicking on the <code>View Messages</code> link above the table. The table shows data about the messages processed by your bot.</p>
<p>The columns of the table can be configured by you in case of Viewing Messages. We will discuss these configurations in a later <a href="#select-columns">section</a>. But by default the tool selects a few columns for you.</p>
<p>These columns are:</p>
<ul>
<li><strong>Body</strong> - This column shows you the actual message that was sent.</li>
<li><strong>Chat Link</strong> - This column provides a link to open and view the entire conversation related to the message.</li>
</ul>
<p>Clicking on the link will open a page that shows the conversation as well as the user details which were collected on the bot. There is a <strong>Previous Conversation</strong> and <strong>Next Conversation</strong> button to help you navigate throughout the various conversations of the user. If you have access to both <strong>Smart Agent Chat</strong> and <strong>Intelligent Analytics</strong>, you will be able to the chat link as shown below -</p>
<p><img src="/assets/message-analysis-chat-link.png" alt="Chat Link"></p>
<blockquote>
<p>Read more about chat links, <a href="https://docs.haptik.ai/bot-analytics/chat-links"><strong>here</strong></a>.</p>
</blockquote>
<ul>
<li><strong>Conversation ID</strong> - This is a unique ID every conversation has.</li>
<li><strong>Created At</strong> - This column tells you when the message was recieved by the bot.</li>
<li><strong>Full Name</strong> - This column shows the full name of the user who sent the message.</li>
<li><strong>Last Nodes</strong> - This column shows the last node that the user was on before sending this message. This information can be useful to understand what the context was for the user sending the current message.</li>
<li><strong>Sub Story</strong> - This column shows which Sub Story the node from <strong>Last Nodes</strong> column belongs to.</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/75118325/114306348-62335e80-9af9-11eb-9204-5b3e7c9b22b9.png" alt="image"></p>
<h2><a class="anchor" aria-hidden="true" id="view-conversations"></a><a href="#view-conversations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>View Conversations</h2>
<p>The View Conversations section of the page which can be accessed by clicking on the <code>View Conversations</code> link above the table. The table shows data at a conversation level, rather than at a message level.</p>
<p>In case of viewing conversations the columns of the table are fixed and they are:</p>
<ul>
<li><strong>Last Node</strong> - This column gives you information about the previous node before the user started the current conversation. This information can help you understand the context of the current conversation.</li>
<li><strong>Chat Link</strong> - This column provides a link to open and view the complete conversation. This is similar to the chat link in the View Messages table.</li>
<li><strong>Full Name</strong> - This column provides the full name of the user who was part of the conversation.</li>
<li><strong>Time of Creation</strong> - This column provides information about when the conversation started.</li>
<li><strong>Total Number of Responses From</strong> - This column provides a overview of the sources of the different messages in the conversation.
<ol>
<li>User - This section tells you how many messages of the conversation came from the user.</li>
<li>Bot - This section tells you how many messages of the conversation came from the bot.</li>
<li>Assistant - This section tells you how many messages of the conversation came from a human agent.</li>
<li>Others - This section tells you how many messages came from other sources. These could include notifications, reminders, feedback messages etc.</li>
</ol></li>
<li><strong>Broken Messages</strong> - This column gives you information about how many messages broke in the conversation. A message is considered to be broken if the bot cannot respond to it.</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/75118325/114306615-f0a7e000-9af9-11eb-8a3a-6fcce20d3cf8.png" alt="image"></p>
<h3><a class="anchor" aria-hidden="true" id="downloading-the-report"></a><a href="#downloading-the-report" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Downloading the report</h3>
<p>There is an option to email the Message or Conversation data in CSV format if needed. This can be done by clicking on the <code>Email Report</code> button above the table showing the data.</p>
<p><img src="/assets/ma3.png" alt="emailreport"></p>
<p>The CSV file will be sent to you on the Email address registered with your account.</p>
<h2><a class="anchor" aria-hidden="true" id="filters"></a><a href="#filters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Filters</h2>
<p>As mentioned above, the Message Analysis page provides you with many filter options. You can use these filters to select what data you see in the Conversation/Message table on the page.</p>
<p>In this section of the document we will go over each of these filter options. We will see how you can use one or a combination of these options to select the data you view in the tables.</p>
<h3><a class="anchor" aria-hidden="true" id="search-body"></a><a href="#search-body" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Search Body</h3>
<p>The first filter option is <code>Search Body</code>. You can use this option to filter the table based on the message body.</p>
<p><img src="/assets/message-analysis/message-analysis-search-body.png" alt="Search Body"></p>
<p>For example you can filter for all messages containing the words <code>I want to book a Ticket</code> by entering it in the <code>Search Body</code> input field and then clicking on the magnifying glass icon inside the input field.</p>
<p>The above will give you all the messages similar to the phrase you searched for. For example, results with &quot;I want a ticket&quot;, &quot;I want to book a flight ticket&quot; etc. will also be shown in the results.</p>
<p>However, if you are interested in exact match only, then you can enclose your phrase within double quotes <code>&quot;</code>. For example, <code>&quot;I want to book a flight ticket&quot;</code> will show only those messages with the exact string being present.</p>
<blockquote>
<p><strong>ProTip:</strong> If you want to search for an exact phrase, enclose it within double quotes like this <code>&quot;&lt;search phrase&gt;&quot;</code> when searching.</p>
</blockquote>
<p><img src="https://user-images.githubusercontent.com/75118325/114306207-c7d31b00-9af8-11eb-8a43-dc75f02d9596.gif" alt="search body"></p>
<h3><a class="anchor" aria-hidden="true" id="select-nodes"></a><a href="#select-nodes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Select Nodes</h3>
<p>The next filter option is <code>Select Nodes</code>. This option allows you to filter by the bot builder nodes the message or conversation uses.</p>
<p>This is a dropdown field. You can click on the field and the dropdown options should show the different nodes in the bot. You can pick one of the nodes from the list and the table will be filtered to only data relevant to that node.</p>
<p><img src="/assets/message-analysis-select-nodes.png" alt="Select Nodes"></p>
<h3><a class="anchor" aria-hidden="true" id="conv-id"></a><a href="#conv-id" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conv ID</h3>
<p>The next filter is <code>Conv ID</code>. This filter lets you see data related to a particular conversation. You can enter the conversation id of the conversation you want to view the data for in the input field and click on the magnifying glass icon to filter the data.</p>
<p><img src="/assets/message-analysis-conversation-id.png" alt="Conversation ID"></p>
<h3><a class="anchor" aria-hidden="true" id="confidence-score"></a><a href="#confidence-score" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Confidence Score</h3>
<p>The next filter we will look at is <code>Confidence Score</code>. This option lets you filter messages that the AI was able to categorise by the degree of confidence configured by you.</p>
<p>The <code>Confidence Score</code> is a draggable option where you can set a range of confidence scores rather than a specific confidence score.</p>
<p><img src="/assets/message-analysis-confidence-score.png" alt="Confidence Score"></p>
<h3><a class="anchor" aria-hidden="true" id="message-by"></a><a href="#message-by" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Message By</h3>
<p>The message analysis page also lets you filter the data in the table based on the source of the message. You can use the dropdown option to select the source which can be one of:</p>
<ul>
<li>All - Shows all messages.</li>
<li>Bot - Only shows messages sent by the bot.</li>
<li>User - Only shows messages sent by the user.</li>
<li>Assistant - Only shows messages sent by the chat agent.</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/75118325/114306235-f224d880-9af8-11eb-8f14-d04e5497cf49.png" alt="image"></p>
<h3><a class="anchor" aria-hidden="true" id="select-sub-story"></a><a href="#select-sub-story" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Select Sub Story</h3>
<p>This option lets you filter the data based on which sub story on the bot builder the conversation or message belongs to.</p>
<p><img src="/assets/message-analysis-select-stories.png" alt="Select Stories"></p>
<h3><a class="anchor" aria-hidden="true" id="message-id"></a><a href="#message-id" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Message ID</h3>
<p>This option lets you filter based on the Message ID. You can enter the Message ID of the message you want to see in the input field. Then on clicking the magnifying glass icon in the input box the data should get filtered.</p>
<p><img src="/assets/message-analysis-message-id-filter.png" alt="Message ID filter"></p>
<h3><a class="anchor" aria-hidden="true" id="broken-messages-only"></a><a href="#broken-messages-only" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Broken Messages Only</h3>
<p>This option lets you switch betweeen seeing only all the messages that lead to a bot break.</p>
<p><img src="/assets/message-analysis-broken-messages-filter.png" alt="Bot Break Filter"></p>
<h3><a class="anchor" aria-hidden="true" id="smart-assist-messages"></a><a href="#smart-assist-messages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Smart Assist Messages</h3>
<p>Intelligent Virtual Assistants are always trained to cater to user queries that fall within a fixed scope. However, at times, customers might ask queries that don’t fall within the scope of the IVA. This tends to prevent the IVA from answering the User’s queries.</p>
<p>A key component in Haptik’s conversational experience is SMART ASSIST. The objective of the component is to respond back to the user smartly when the IVA is not able to completely understand the User’s query. This should open up the pathways for the users to reformulate or redirect their queries, so that appropriate response can be given. To know more about Smart Assist click <a href="https://docs.haptik.ai/bot-builder/basic/smart-assist"><strong>here</strong></a>.</p>
<p>This option lets you see those messages that triggered the Smart Assist layer.</p>
<p><img src="/assets/sa1.png" alt="SA Filter"></p>
<h3><a class="anchor" aria-hidden="true" id="user-id"></a><a href="#user-id" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>User ID</h3>
<p>This option lets you filter the data based on the user id. This can be helpful to understand the messages/conversations of a partcular user.</p>
<p>You can enter the user id you want to filter by inside the input field. Then on clicking the magnifying glass icon, the data should be filtered.</p>
<p><img src="/assets/message-analysis-user-id.png" alt="User Id Filter"></p>
<h3><a class="anchor" aria-hidden="true" id="select-columns"></a><a href="#select-columns" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Select Columns</h3>
<p>The final option we will be looking at is the <code>Select Columns</code> option which lets you filter what columns are shown in the View Messages table.</p>
<p>The columns that you can select from are:</p>
<ul>
<li>Confidence Score</li>
<li>Conversation ID</li>
<li>Created At</li>
<li>Full Name</li>
<li>Last Nodes</li>
<li>Message ID</li>
<li>Source Language</li>
<li>Sub Story</li>
<li>Total User Messages</li>
<li>Translated Messages</li>
<li>User ID</li>
</ul>
<blockquote>
<p>Note: If you apply filters on a column that is not selected the data will still be filtered.</p>
</blockquote>
<p><img src="/assets/message-analysis-select-columns.png" alt="Select Columns"></p>
<h3><a class="anchor" aria-hidden="true" id="clear-filters"></a><a href="#clear-filters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Clear Filters</h3>
<p>Apart from the filter options, you also have a button to clear all filters you have applied.</p>
<blockquote>
<p>Note: When you apply multiple filters, it is possible for the filters to cancel out each other or overlap each other. In such cases you might not see any data or see unexpected data. In such cases it is useful to use this button to clear all filters.</p>
</blockquote>
<p><img src="/assets/message-analysis-clear-filters.png" alt="Clear Filters"></p>
<h2><a class="anchor" aria-hidden="true" id="data-masking"></a><a href="#data-masking" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data Masking</h2>
<p>Personal information in a conversation needs to be protected when a conversation is marked as complete. This includes User Says, Bot Says, Agent Messages, Media, etc. We mask or encrypt this personal information in order to protect it. Data masking is the practice of intentionally randomizing anonymizing specific data/information to secure it.</p>
<p>Data on <strong>Message Analysis</strong> screen will show up in the masked format. If you download the <strong>Message Analysis report</strong>, then that will also show up with the masked version. However, chat links will show up in their original form.</p>
<p>The masked data is shown as <strong>6 asterisks</strong> in a message as shown below -</p>
<p><img src="/assets/DataMasking4.png" alt="PersonalEntities"></p>
<h3><a class="anchor" aria-hidden="true" id="what-all-gets-masked"></a><a href="#what-all-gets-masked" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What all gets masked?</h3>
<p>Not everything needs to be protected but sensitive data like phone-number, email-id, account number, date-of-birth, etc. needs to be protected. In most of the cases, these values are inserted as <strong>entities</strong>. So we essentially need to mask these sensitive entities.</p>
<p>We mask the <strong>original_text</strong> not <strong>entity_value</strong>. In a few scenarios, the original_text and entity value are different. The current masking rules consider only the original_text. In the below image, it is shown how <strong>original_text</strong> and <strong>entity_value</strong> can be different -</p>
<p><img src="/assets/DataMasking3.png" alt="PersonalEntities"></p>
<p>The following policies, in order of priority, are triggered sequentially.</p>
<ul>
<li>Personal Entities</li>
<li>Predefined Masked Entities on the platform</li>
<li>Predefined Regex Patterns on the platform</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="personal-entities"></a><a href="#personal-entities" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Personal Entities</h4>
<p>Entities which are marked as <strong>Personal</strong> on the Conversation Studio tool are masked in the conversation. It is shown in the below image where you can mark an entity as Personal -</p>
<p><img src="/assets/DataMasking1.png" alt="PersonalEntities"></p>
<h4><a class="anchor" aria-hidden="true" id="predefined-masked-entities-on-the-platform"></a><a href="#predefined-masked-entities-on-the-platform" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Predefined Masked Entities on the platform</h4>
<p>Few entities are considered as <strong>personal</strong> at the platform level. Once they are detected in conversations, they are automatically masked. This list is not editable and is defined at the platform level. Currently, only one entity is under this list -</p>
<ul>
<li>phone_number</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="predefined-regex-patterns-on-the-platform"></a><a href="#predefined-regex-patterns-on-the-platform" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Predefined Regex Patterns on the platform</h4>
<p>Some data is considered as <strong>personal</strong> using <strong>Regex Patterns</strong>. Once they are detected in conversations, they are automatically masked. This list is not editable and is defined at a Platform level. Currently, the below regex patterns are used for this -</p>
<ul>
<li><strong>r_email</strong> - \b[A-Za-z0-9.+<em>-]+@[A-Za-z0-9.</em>-]+.[a-zA-Z]+\b</li>
<li><strong>r_numbers</strong> - \b\d{6,16}\b</li>
<li><strong>r_pancard</strong> - \b[A-Za-z]{5}\d{4}[A-Za-z]\b</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="enable-data-masking"></a><a href="#enable-data-masking" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enable Data Masking</h3>
<p>Data masking will be enabled by default for all new partners being created. If you wish to switch off the Data Masking (Data Encryption) flag, you can do the same from the Partners List under Admin Tools as shown below</p>
<p><img src="/assets/DataMasking2.png" alt="PersonalEntities2"></p>
<p>We do not recommend disabling Data Masking. If you do, then please explicitly inform the same among all stakeholders.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 4/14/2021</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/bot-analytics/story-analysis"><span class="arrow-prev">← </span><span>Story Analysis</span></a><a class="docs-next button" href="/bot-analytics/ai-recommendations"><span>AI Recommendations</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#view-messages">View Messages</a></li><li><a href="#view-conversations">View Conversations</a><ul class="toc-headings"><li><a href="#downloading-the-report">Downloading the report</a></li></ul></li><li><a href="#filters">Filters</a><ul class="toc-headings"><li><a href="#search-body">Search Body</a></li><li><a href="#select-nodes">Select Nodes</a></li><li><a href="#conv-id">Conv ID</a></li><li><a href="#confidence-score">Confidence Score</a></li><li><a href="#message-by">Message By</a></li><li><a href="#select-sub-story">Select Sub Story</a></li><li><a href="#message-id">Message ID</a></li><li><a href="#broken-messages-only">Broken Messages Only</a></li><li><a href="#smart-assist-messages">Smart Assist Messages</a></li><li><a href="#user-id">User ID</a></li><li><a href="#select-columns">Select Columns</a></li><li><a href="#clear-filters">Clear Filters</a></li></ul></li><li><a href="#data-masking">Data Masking</a><ul class="toc-headings"><li><a href="#what-all-gets-masked">What all gets masked?</a></li><li><a href="#enable-data-masking">Enable Data Masking</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><div class="footer"><a href="https://haptik.ai/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/image_0.png" alt="Haptik Inc." width="100"/></a><div class="footer-columns"><div class="footer-column"><div class="footer-column-title">Tools</div><div class="footer-column-links"><a href="https://docs.haptik.ai/bot-builder/basic/introduction" class="footer-column-link">Conversation Studio</a><a href="https://docs.haptik.ai/agent-chat/" class="footer-column-link">Smart Agent Chat</a><a href="https://docs.haptik.ai/bot-analytics/" class="footer-column-link">Intelligent Analytics</a></div></div><div class="footer-column"><div class="footer-column-title">Integrations</div><div class="footer-column-links"><a href="https://docs.haptik.ai/ios-sdk/" class="footer-column-link">iOS SDK</a><a href="https://docs.haptik.ai/android-sdk/" class="footer-column-link">Android SDK</a><a href="https://docs.haptik.ai/web-sdk/" class="footer-column-link">Web SDK</a><a href="https://docs.haptik.ai/whatsapp/" class="footer-column-link">WhatsApp</a><a href="https://docs.haptik.ai/other/facebook" class="footer-column-link">Facebook</a><a href="https://docs.haptik.ai/webhooks/" class="footer-column-link">Bot API</a></div></div><div class="footer-column"><div class="footer-column-title">Others</div><div class="footer-column-links"><a href="https://docs.haptik.ai/hsl/" class="footer-column-link">HSL</a><a href="https://docs.haptik.ai/other/sla" class="footer-column-link">SLA</a><a href="https://docs.haptik.ai/external-chat-tool/" class="footer-column-link">External Agent Chat Tool</a></div></div></div><div class="footer-copyright"></div></div><section class="copyright">Copyright © 2021 Haptik Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '224c7079e67e84a978d8b4621f6af16d',
                indexName: 'haptik',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>