<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>FAQ · Haptik Docs</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="### 1. What happens to the new chat if the user&#x27;s previous conversation was auto-completed?"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="FAQ · Haptik Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.haptik.ai/"/><meta property="og:description" content="### 1. What happens to the new chat if the user&#x27;s previous conversation was auto-completed?"/><meta property="og:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="robots" content="noindex"/><link rel="shortcut icon" href="/img/image_0.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-106563119-6', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/js/index.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/image_0.png" alt="Haptik Docs"/><h2 class="headerTitleWithLogo">Haptik Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/#tools" target="_self">Tools</a></li><li class=""><a href="/#integrations" target="_self">Integrations</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Miscellaneous</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/">Introduction</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/bot-agent-handover">Transfer Chats to Human Agents</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">How to set up?</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/setup-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/teams">Teams</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/chat-assignment">Chat Routing Algorithm</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/closing-categories">Closing Categories</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">How to manage chats?</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/newmychats">Introduction</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/left-hs">Live Statistics</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/centre-screen">Message Composer</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/right-hs">User Details and External Tool</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/manage-team-capacity">Manage Team Capacity</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/businesses">Monitor Chats</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">How to analyze chats?</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/analyze-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/monitor-closing-categories">Analyse Closing Categories</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/analytics">Analyse Team Data</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/agent-reports">Analyse Agent Data</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Miscellaneous</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/adding-custom-tools">Adding your own custom tool</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/integrating-external-bot">Integrating with External Bot</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/claiming-and-closing">Chat Priority and Assignment</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/agent-stats-email">Agent Daily Statistics Mailer</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/agent-chat/sac-faq">FAQ</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">FAQ</h1></header><article><div><span><h3><a class="anchor" aria-hidden="true" id="1-what-happens-to-the-new-chat-if-the-users-previous-conversation-was-auto-completed"></a><a href="#1-what-happens-to-the-new-chat-if-the-users-previous-conversation-was-auto-completed" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. What happens to the new chat if the user's previous conversation was auto-completed?</h3>
<pre><code class="hljs">The unread messages <span class="hljs-keyword">and</span> <span class="hljs-built_in">time</span> is tracked <span class="hljs-keyword">within</span> <span class="hljs-keyword">the</span> scope <span class="hljs-keyword">of</span> <span class="hljs-keyword">a</span> conversation. 
The count <span class="hljs-keyword">of</span> unread messages is reset <span class="hljs-keyword">and</span> when <span class="hljs-keyword">the</span> users comes up <span class="hljs-built_in">to</span> bot <span class="hljs-keyword">and</span> chat <span class="hljs-keyword">with</span> <span class="hljs-keyword">an</span> agent, 
<span class="hljs-keyword">the</span> chat will marked <span class="hljs-keyword">as</span> <span class="hljs-keyword">a</span> <span class="hljs-built_in">new</span> chat.
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="2-why-are-agents-are-not-able-to-receive-chats"></a><a href="#2-why-are-agents-are-not-able-to-receive-chats" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Why are agents are not able to receive chats?</h3>
<p>There are multiple scenarios that relate to agents not receiving the chat on their screen. Some of the following the observed scenarios -</p>
<ul>
<li><strong>The MyChats page keeps reloading, a yellow bar appears on the top of page</strong></li>
<li><strong>Messages are not being sent to the user, a Resend option appears</strong></li>
<li><strong>There are chats in the agent’s queue but the chats are not assigned on the MyChats page</strong></li>
<li><strong>A lot of exception errors appear on the screen</strong></li>
</ul>
<pre><code class="hljs">If your agents are not able <span class="hljs-keyword">to</span> recieve chats then please contact Haptik <span class="hljs-keyword">to</span> <span class="hljs-built_in">get</span> the <span class="hljs-keyword">list</span> of IPs <span class="hljs-keyword">to</span> <span class="hljs-keyword">be</span> whitelisted. 
</code></pre>
<blockquote>
<p>If there is partial connectivity observed, then whitelist all IPs with <b>ap-south-1</b>, mentioned here, <a href="https://ip-ranges.amazonaws.com/ip-ranges.json"><strong>https://ip-ranges.amazonaws.com/ip-ranges.json</strong></a></p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="3-how-to-manage-offline-hour-chats"></a><a href="#3-how-to-manage-offline-hour-chats" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. How to manage offline hour chats?</h3>
<p>In the Team settings, you can turn the toggle to complete all chats when no agent is online.
But there can be an edge case as mentioned below. We need to understand when this edge case occurs, and assign a specific permission to all agents.</p>
<p>A chat would get assigned first to the last agent who took this user's chat. Assuming the agent is available. We mandate agents to go offline before 30 minutes of their shift closure time, and then logout on shift end. This works in sync with our assignment so that logged out agents are not considered for assignment. For when agents are going offline, but not actively logging out, the chats that come in offline hours get assigned but the agents in reality are not available. We should use the <code>Inactivity_logout</code> permission that logs out agents on no activity for 15 minutes.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 6/2/2021</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/agent-chat/agent-stats-email"><span class="arrow-prev">← </span><span>Agent Daily Statistics Mailer</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><div class="footer"><a href="https://haptik.ai/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/image_0.png" alt="Haptik Inc." width="100"/></a><div class="footer-columns"><div class="footer-column"><div class="footer-column-title">Tools</div><div class="footer-column-links"><a href="https://docs.haptik.ai/bot-builder/basic/introduction" class="footer-column-link">Conversation Studio</a><a href="https://docs.haptik.ai/agent-chat/" class="footer-column-link">Smart Agent Chat</a><a href="https://docs.haptik.ai/bot-analytics/" class="footer-column-link">Intelligent Analytics</a></div></div><div class="footer-column"><div class="footer-column-title">Integrations</div><div class="footer-column-links"><a href="https://docs.haptik.ai/web-sdk/" class="footer-column-link">Web SDK</a><a href="https://docs.haptik.ai/whatsapp/" class="footer-column-link">WhatsApp</a><a href="https://docs.haptik.ai/facebook/" class="footer-column-link">Facebook</a><a href="https://docs.haptik.ai/gbm/" class="footer-column-link">Google Business Messages</a><a href="https://docs.haptik.ai/salesforce/" class="footer-column-link">Salesforce Service Cloud</a><a href="https://docs.haptik.ai/webhooks/" class="footer-column-link">Bot API</a><a href="https://docs.haptik.ai/ios-sdk/" class="footer-column-link">iOS SDK</a><a href="https://docs.haptik.ai/android-sdk/" class="footer-column-link">Android SDK</a></div></div><div class="footer-column"><div class="footer-column-title">Others</div><div class="footer-column-links"><a href="https://docs.haptik.ai/hsl/" class="footer-column-link">HSL</a><a href="https://docs.haptik.ai/other/sla" class="footer-column-link">SLA</a><a href="https://docs.haptik.ai/external-chat-tool/" class="footer-column-link">External Agent Chat Tool</a></div></div></div><div class="footer-copyright"></div></div><section class="copyright">Copyright © 2021 Haptik Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '224c7079e67e84a978d8b4621f6af16d',
                indexName: 'haptik',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>