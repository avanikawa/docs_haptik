<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Transfer Chats to Human Agents · Haptik Docs</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="When the user&#x27;s come to the bot and start conversing, they go through the automated user journeys created using the Conversation Studio tool. When the bot is trained to understand the user&#x27;s messages, the bot gives correct responses to the user. But when the bot does not understand the user&#x27;s messages, the bot gives a bot break message. "/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Transfer Chats to Human Agents · Haptik Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.haptik.ai/"/><meta property="og:description" content="When the user&#x27;s come to the bot and start conversing, they go through the automated user journeys created using the Conversation Studio tool. When the bot is trained to understand the user&#x27;s messages, the bot gives correct responses to the user. But when the bot does not understand the user&#x27;s messages, the bot gives a bot break message. "/><meta property="og:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="robots" content="noindex"/><link rel="shortcut icon" href="/img/image_0.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-106563119-6', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/js/index.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/image_0.png" alt="Haptik Docs"/><h2 class="headerTitleWithLogo">Haptik Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/#tools" target="_self">Tools</a></li><li class=""><a href="/#integrations" target="_self">Integrations</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Getting Started</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/">Introduction</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/agent-chat/bot-agent-handover">Transfer Chats to Human Agents</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">How to set up?</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/setup-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/teams">Teams</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/chat-assignment">Chat Routing Algorithm</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/closing-categories">Closing Categories</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">How to manage chats?</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/newmychats">Introduction</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/left-hs">Live Statistics</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/centre-screen">Message Composer</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/right-hs">User Details and External Tool</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/manage-team-capacity">Manage Team Capacity</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/businesses">Monitor Chats</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">How to analyze chats?</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/analyze-intro">Introduction</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/monitor-closing-categories">Analyse Closing Categories</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/analytics">Analyse Team Data</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/agent-reports">Analyse Agent Data</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Miscellaneous</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/adding-custom-tools">Adding your own custom tool</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/integrating-external-bot">Integrating with External Bot</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/claiming-and-closing">Chat Priority and Assignment</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/agent-stats-email">Agent Daily Statistics Mailer</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/sac-faq">FAQ</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Transfer Chats to Human Agents</h1></header><article><div><span><p>When the user's come to the bot and start conversing, they go through the automated user journeys created using the Conversation Studio tool. When the bot is trained to understand the user's messages, the bot gives correct responses to the user. But when the bot does not understand the user's messages, the bot gives a bot break message.</p>
<p>When the bot cannot understand the user, you can choose to redirect the user to a human assistant who will help the user resolve their query.</p>
<p>You can set rule(s) to enable the redirection of users from bot to a human assistant. There are two rules -</p>
<ol>
<li>Adding Smart Agent Chat integration function on the bot</li>
<li>Enabling Human Assistance flag on Business Manager</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="adding-smart-agent-chat-integration-function-on-the-bot"></a><a href="#adding-smart-agent-chat-integration-function-on-the-bot" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding Smart Agent Chat integration function on the bot</h2>
<pre><code class="hljs">Example use cases - 

1. When the<span class="hljs-built_in"> user </span>comes <span class="hljs-keyword">to</span> a bot <span class="hljs-keyword">and</span> explicitly says <span class="hljs-string">"I want to chat with an agent"</span>.
2. When you want <span class="hljs-keyword">to</span> capture some<span class="hljs-built_in"> user </span>details such as their name <span class="hljs-keyword">and</span> email <span class="hljs-keyword">and</span> then redirect the<span class="hljs-built_in"> user </span><span class="hljs-keyword">to</span> an agent.
</code></pre>
<p>There is a generic function for Smart Agent Chat integration that needs to be added to a node from where the agent function is to be used.</p>
<blockquote>
<p><strong>integration.utils.common.chat_force_pending</strong></p>
</blockquote>
<p>On the <strong>Integrations</strong> tab of the node, select the type as <strong>Entity and Integration function</strong> and add the below function name in the integration field and then click on <strong>Save</strong>.</p>
<p><img src="/assets/HO1.png" alt="Chat Integration Function"></p>
<p>Once the users reache the node where you have added the integration function to transfer the chat to an agent, the bot will redirect the user to a <a href="https://docs.haptik.ai/agent-chat/teams"><strong>Team</strong></a> on <strong>Smart Agent Chat</strong>.</p>
<p>You need to specify a default Team name in the <strong>Business Manager</strong> section of the Conversation Studio tool. All the agents are a part of Team on Smart Agent Chat. Hence, the chat gets assigned to an agent within the mentioned default Team.</p>
<p>To provide a default Team, navigate to <strong>Business Manager</strong> via <strong>Open Business</strong> button on the bot page.</p>
<p><img src="https://user-images.githubusercontent.com/75118325/120187935-18cada00-c233-11eb-8202-761a5e01817e.png" alt="image"></p>
<blockquote>
<p><strong>What is a Default Team?</strong></p>
<p>There can be a situation when the team routing logic fails and no team is shortlisted to assign a chat. In that case, the chat is assigned to the default team, set on Business manager.</p>
</blockquote>
<p>On the <strong>Business Manager</strong>, in the <strong>General Settings</strong>, select the Team name from the dropdown as shown below -</p>
<p><img src="https://user-images.githubusercontent.com/75118325/120188106-5596d100-c233-11eb-8e45-ffbd7698940d.png" alt="image"></p>
<blockquote>
<p>You will need to create a <strong>Team</strong> on Smart Agent Chat. Once you have created the Team, the team name will appear in the dropdown on Business Manager. To know how to create a team, click <a href="https://docs.haptik.ai/agent-chat/teams"><strong>here</strong></a>.</p>
</blockquote>
<p>When the users reach the node where this integration function exists (<em>get the details</em> is the node in the above image), then the chat will be transferred to the Team on Smart Agent Chat.</p>
<blockquote>
<p>Click <a href="https://docs.haptik.ai/bot-builder/basic/creating-nodes"><strong>here</strong></a> to know more about creating nodes.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="enabling-human-assistance-flag-on-business-manager"></a><a href="#enabling-human-assistance-flag-on-business-manager" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enabling Human Assistance flag on Business Manager</h2>
<pre><code class="hljs">Example use cases - 

1. When you directly want <span class="hljs-keyword">to</span> redirect the<span class="hljs-built_in"> user </span><span class="hljs-keyword">to</span> an agent <span class="hljs-keyword">and</span> there are <span class="hljs-literal">no</span><span class="hljs-built_in"> user </span>journeys on the bot.
2. <span class="hljs-keyword">To</span> handle out-of-scope queries of users. The<span class="hljs-built_in"> users </span>will be directed <span class="hljs-keyword">to</span> an agent directly.
</code></pre>
<p>Every bot on the Haptik Platform has a <strong>Business Manager</strong> which contains all the configurations related to a bot. In the <strong>General Settings</strong> section, you can enable the <strong>Enable Human Assistance</strong> flag.</p>
<p>If this flag is ON for a business, a chat will be moved to an agent whenever the bot doesn't understand the user's message, i.e., instead of responding with a bot break message, the bot will assign an agent to the user to resolve user's query.</p>
<p><img src="https://user-images.githubusercontent.com/75118325/120059600-36037b00-c070-11eb-998d-d4c0433c1f99.png" alt="image"></p>
<blockquote>
<p>Warning: Before the handover to the agent, the bot might give a <a href="https://docs.haptik.ai/bot-builder/basic/smart-assist"><strong>Smart Assist</strong></a> message. In cases where you do not want this to happen, the Smart Assist can be disabled from the backend.</p>
</blockquote>
<p>You can combine the rules too, i.e., add the integration function on the user journeys and also enable the human assistance from the Business Manager.</p>
<ul>
<li>If a Business is <strong>Bot + Human Assisted</strong></li>
</ul>
<p><img src="https://user-images.githubusercontent.com/75118325/111911168-62a48080-8a8a-11eb-9e63-575c1674b895.png" alt="image"></p>
<ul>
<li>If a Business is <strong>Completely Human Assisted</strong></li>
</ul>
<p><em>Note: If a Business is <strong>Completely Bot Assisted</strong>, the chat will never be assigned to a team.</em></p>
<p>Once you have configured the rules to transfer a chat from a bot to a human assistant (also referred to as <strong>agent</strong>), you can start with the Smart Agent Chat setup to handle the incoming chats.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 6/2/2021</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/agent-chat/index"><span class="arrow-prev">← </span><span>Introduction</span></a><a class="docs-next button" href="/agent-chat/setup-intro"><span>Introduction</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#adding-smart-agent-chat-integration-function-on-the-bot">Adding Smart Agent Chat integration function on the bot</a></li><li><a href="#enabling-human-assistance-flag-on-business-manager">Enabling Human Assistance flag on Business Manager</a></li></ul></nav></div><footer class="nav-footer" id="footer"><div class="footer"><a href="https://haptik.ai/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/image_0.png" alt="Haptik Inc." width="100"/></a><div class="footer-columns"><div class="footer-column"><div class="footer-column-title">Tools</div><div class="footer-column-links"><a href="https://docs.haptik.ai/bot-builder/basic/introduction" class="footer-column-link">Conversation Studio</a><a href="https://docs.haptik.ai/agent-chat/" class="footer-column-link">Smart Agent Chat</a><a href="https://docs.haptik.ai/bot-analytics/" class="footer-column-link">Intelligent Analytics</a></div></div><div class="footer-column"><div class="footer-column-title">Integrations</div><div class="footer-column-links"><a href="https://docs.haptik.ai/web-sdk/" class="footer-column-link">Web SDK</a><a href="https://docs.haptik.ai/whatsapp/" class="footer-column-link">WhatsApp</a><a href="https://docs.haptik.ai/facebook/" class="footer-column-link">Facebook</a><a href="https://docs.haptik.ai/gbm/" class="footer-column-link">Google Business Messages</a><a href="https://docs.haptik.ai/salesforce/" class="footer-column-link">Salesforce Service Cloud</a><a href="https://docs.haptik.ai/webhooks/" class="footer-column-link">Bot API</a><a href="https://docs.haptik.ai/ios-sdk/" class="footer-column-link">iOS SDK</a><a href="https://docs.haptik.ai/android-sdk/" class="footer-column-link">Android SDK</a></div></div><div class="footer-column"><div class="footer-column-title">Others</div><div class="footer-column-links"><a href="https://docs.haptik.ai/hsl/" class="footer-column-link">HSL</a><a href="https://docs.haptik.ai/other/sla" class="footer-column-link">SLA</a><a href="https://docs.haptik.ai/external-chat-tool/" class="footer-column-link">External Agent Chat Tool</a></div></div></div><div class="footer-copyright"></div></div><section class="copyright">Copyright © 2021 Haptik Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '224c7079e67e84a978d8b4621f6af16d',
                indexName: 'haptik',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>