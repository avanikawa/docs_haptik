<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Claiming &amp; Closing Chats · Haptik Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Introduction"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Claiming &amp; Closing Chats · Haptik Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.haptik.ai/"/><meta property="og:description" content="## Introduction"/><meta property="og:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="robots" content="noindex"/><link rel="shortcut icon" href="/img/image_0.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-106563119-6', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/js/index.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/image_0.png" alt="Haptik Docs"/><h2 class="headerTitleWithLogo">Haptik Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/#tools" target="_self">Tools</a></li><li class=""><a href="/#integrations" target="_self">Integrations</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>For Team Leads</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/">Introduction</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">For Agents</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/newmychats">Introduction</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/action-toolbars">Toolbar Actions</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/smart-actions">Smart Actions</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/closing-categories">Closing Categories</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/agent-stats-email">Agent Daily Statistics Mailer</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/navigating-interface-shortcuts">Shortcuts for navigation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">For Team Leads</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/for-team-leads">Introduction</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/businesses">Businesses</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/teams">Teams</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/agent-chat/claiming-and-closing">Claiming &amp; Closing Chats</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/analytics">Analytics</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/agent-reports">Agent Reports</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/chat-assignment">Chat assignment</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Miscellaneous</h3><ul class=""><li class="navListItem"><a class="navItem" href="/agent-chat/bot-agent-handover">Bot Agent Handover</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/adding-custom-tools">Adding your own custom tool</a></li><li class="navListItem"><a class="navItem" href="/agent-chat/integrating-external-bot">Integrating with External Bot</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Claiming &amp; Closing Chats</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="introduction"></a><a href="#introduction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction</h2>
<p>When we receive a message from the user, we send the message to a queue. We continuosly calculate the priority of the chats and assign it to an agent accordingly.</p>
<p>This priority is calculated dynamically and is based on a number of metrics.</p>
<h2><a class="anchor" aria-hidden="true" id="priority-calculcation"></a><a href="#priority-calculcation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Priority Calculcation</h2>
<p>When we receive a message from a user, We allocate it to Queues with a calculated priority.</p>
<h3><a class="anchor" aria-hidden="true" id="queue-structure"></a><a href="#queue-structure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Queue Structure</h3>
<ul>
<li>Team Queue</li>
<li>Individual queue per ‘Agent’</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="queue-management"></a><a href="#queue-management" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Queue Management</h3>
<blockquote>
<p>Our bot is a special agent, code named ‘Gogo’</p>
</blockquote>
<p>The priority value and presence in ‘Team Queue’ or individual ‘Agent queue’ is calculated based on the below metrics:</p>
<ul>
<li>New user or returning user</li>
<li>Existing Conversation or New Conversation</li>
<li>Bot involvement in business, and no previous assigned agent
<ul>
<li><strong>If the bot is present and can handle the query</strong> then the conversation continues</li>
<li><strong>If the bot breaks and agent-assistance is enabled for business</strong> then the conversation is transferred to specified team via defined integration functions or to the default team assigned in the bot builder</li>
<li><strong>If Bot breaks and agent-assistance is disabled for business</strong> then the Bot break message or the outlier message as defined in business config is sent as a message by the bot</li>
</ul></li>
<li>Previously assigned agent
<ul>
<li>If the agent is ‘online’ or ‘offline’, then the chat is added to the agent's queue.</li>
<li>If the agent is logged out, the chat is treated as a fresh conversation.</li>
</ul></li>
</ul>
<blockquote>
<p>While these Queues are maintained in our Backend, conversation assignment for a particular agent is handled based on Activities performed on Athena by said agent.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="chat-assignment"></a><a href="#chat-assignment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Chat assignment</h2>
<p>The following section covers how an agent is assigned a chat.</p>
<blockquote>
<p>Once the chat is assigned to an agent, the user can see the handover to the agent on the SDK UI. <br/><br/>
<img src="/assets/sdk_claim.png" alt="all_custom_tools"></p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="base-rules"></a><a href="#base-rules" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Base Rules</h3>
<ul>
<li>If a conversation is waiting on user or the user does not reply for 8 minutes, we automatically mark that conversation as completed due to user inactivity</li>
<li>A fresh message from an existing user would result in a new conversation</li>
<li>Currently we allow a maximum of <strong>3 chats</strong> (default value) to be handled simultaneously per agent. We can change this value to anything between 1-5 per agent.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="automatic-chat-assignment"></a><a href="#automatic-chat-assignment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Automatic Chat assignment</h3>
<p>Smart Agent chat tries assigning a chat automatically based on the following parameters.</p>
<ul>
<li>On login or switching to ‘online’</li>
<li>Every time an agent marks a chat as ‘Complete’</li>
<li>Every time an agent marks a chat as ‘Waiting for User’</li>
<li>If the agent has less than 3 chats (configurable value), the chat is requested by the agent every 10 seconds (default global value, modification not in dev pipeline)</li>
<li>If the agent has more than 3 chats (configurable value), then the platform doesn't request for more chats till the agent has less than 3 concurrent chats**.</li>
</ul>
<blockquote>
<p><b> ** </b> If the agent has some chats in waiting then the chat is put back in the agent's chat queue</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="manual-chat-assignment-claiming"></a><a href="#manual-chat-assignment-claiming" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Manual Chat assignment (Claiming)</h3>
<blockquote>
<p>Smart Agent chat also supports manual assignment of chats to agents.</p>
</blockquote>
<p>Team leads can manually assign a chat. They can either assign it to themselves or a team or an individual agent.</p>
<p>If the chat is assigned to a team, then the chat will first get assigned to the team, and then subsequently to an agent of that team.</p>
<ul>
<li><p>Open any conversation either on the teams or the businesses page</p>
<p><img src="/assets/claim_1.png" alt="all_custom_tools">
<br/><br/></p></li>
<li><p>Click the reassign button on the composer.</p>
<p><img src="/assets/claim_2.png" alt="all_custom_tools">
<br/><br/></p></li>
<li><p>Alternatively you can click the reassign button on the chat listing.</p>
<p><img src="/assets/claim_5.png" alt="all_custom_tools">
<br/><br/></p></li>
<li><p>A right hand side drawer should popup allowing you to assign a chat either to yourself, to a team or to an individual agent.
<br/><br/></p></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="closing--completing-chats"></a><a href="#closing--completing-chats" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Closing &amp; Completing Chats</h2>
<p>When an agent has completed a chat, the chat is marked complete and the chat is closed. This process can happen automatically or the chat agent can manually close a chat.</p>
<blockquote>
<p>Once the chat is marked as complete/closed, the user can see the completion message on the SDK UI. <br/><br/> <img src="/assets/sdk_complete.png" alt="all_custom_tools"></p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="automatic-closing-of-chats"></a><a href="#automatic-closing-of-chats" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Automatic Closing of Chats</h3>
<p>Chats are automatically closed if:</p>
<ul>
<li>Chats assigned to the agent which are currently in waiting when the agent logs out</li>
<li>No messages are exchanged between the agent and the user and the chat is either with the bot or is in waiting for user state for <strong>8 minutes</strong>.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="manual-closing-of-chats"></a><a href="#manual-closing-of-chats" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Manual Closing of Chats</h3>
<p>Chats can be manually marked complete</p>
<ul>
<li><p>When the agent is ready to mark a chat as complete (close the chat). The agent can mark the chat either complete or send to waiting.</p>
<p><img src="/assets/close_1_1.png" alt="all_custom_tools">
<br/><br/></p></li>
<li><p>Alternatively a team lead can also manually mark a chat as complete by tapping on 1 of the two options in the composer inside the Businesses/Teams pages.</p>
<p><img src="/assets/close_1.png" alt="all_custom_tools">
<br/><br/></p></li>
<li><p>The user will have 2 options here</p>
<ul>
<li><p><strong>Mark a chat complete</strong>: This means that the conversation is complete and the user will not be sending more messages as a part of this conversation.</p></li>
<li><p><strong>Send to waiting</strong>: Sometimes the conversation isn't complete. For example, the agent has replied but the user is taking some time to reply. In this case the agent can mark the chat as waiting. This removes the chat from the agent's queue freeing up the agent so that the agent can take more chats.</p>
<blockquote>
<p>Once the user replies, the conversation is added back to the same agent's queue.</p>
</blockquote></li>
</ul>
<p><img src="/assets/close_2.png" alt="all_custom_tools"></p></li>
<li><p>Once the user marks the conversation appropriately. The conversation is removed from the agent's queue and the My Chats page.</p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="open-completed-chats"></a><a href="#open-completed-chats" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Open Completed Chats</h3>
<p>When Team Leads see chats that are wrongly completed, they can reopen these chats to make sure user queries are resolved.</p>
<p>On the business tab, and on Completed Chats, if agents click on the <code>Open Chat</code> option for any chat, then Completed chat assigns again automatically without user messages. Refer the green box in image below.</p>
<p><img src="/assets/Open_chat.png" alt="Open Chat"></p>
<blockquote>
<p>This is the only case when you see completed chat assigned again automatically without user initiation.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="enable-manual-closing-of-chat"></a><a href="#enable-manual-closing-of-chat" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enable manual closing of chat</h2>
<p>The above mentioned functionality is enabled by default for every business. To disable it, one have to edit the flag under Businesses &gt; Business Settings &gt; Show close chat button.</p>
<p><img src="/assets/business_settings.png" alt="business settings"></p>
<p>To add to that, one can edit the flag only if they have access to the below mentioned feature.</p>
<pre><code class="hljs">athen<span class="hljs-built_in">a_business</span>_settings_edit
</code></pre>
<p>This should be added to the respective Permission Group as mentioned in <a href="https://docs.haptik.ai/agent-chat/adding-agents-and-permissions">adding agents and permissions</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="chat-disposition"></a><a href="#chat-disposition" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Chat Disposition</h3>
<p>When an agent marks a chat as complete. The agent can add some <em>completion notes</em> in the form of Chat disposition.</p>
<p><img src="/assets/chat_disposition_1.png" alt="all_custom_tools"></p>
<p><img src="/assets/chat_disposition_2.png" alt="all_custom_tools">
<br/><br/></p>
<p>Custom chat dispositions can be configured in the business settings under the business page.</p>
<p>This chat disposition data is shown as a part of the chat history when viewing the chat on the businesses/teams pages.
<br/><br/>
<img src="/assets/chat_disposition_3.png" alt="all_custom_tools"></p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 12/31/2020</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/agent-chat/teams"><span class="arrow-prev">← </span><span>Teams</span></a><a class="docs-next button" href="/agent-chat/analytics"><span>Analytics</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#introduction">Introduction</a></li><li><a href="#priority-calculcation">Priority Calculcation</a><ul class="toc-headings"><li><a href="#queue-structure">Queue Structure</a></li><li><a href="#queue-management">Queue Management</a></li></ul></li><li><a href="#chat-assignment">Chat assignment</a><ul class="toc-headings"><li><a href="#base-rules">Base Rules</a></li><li><a href="#automatic-chat-assignment">Automatic Chat assignment</a></li><li><a href="#manual-chat-assignment-claiming">Manual Chat assignment (Claiming)</a></li></ul></li><li><a href="#closing--completing-chats">Closing &amp; Completing Chats</a><ul class="toc-headings"><li><a href="#automatic-closing-of-chats">Automatic Closing of Chats</a></li><li><a href="#manual-closing-of-chats">Manual Closing of Chats</a></li><li><a href="#open-completed-chats">Open Completed Chats</a></li></ul></li><li><a href="#enable-manual-closing-of-chat">Enable manual closing of chat</a><ul class="toc-headings"><li><a href="#chat-disposition">Chat Disposition</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><div class="footer"><a href="https://haptik.ai/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/image_0.png" alt="Haptik Inc." width="100"/></a><div class="footer-columns"><div class="footer-column"><div class="footer-column-title">Tools</div><div class="footer-column-links"><a href="https://docs.haptik.ai/bot-builder/basic/introduction" class="footer-column-link">Conversation Studio</a><a href="https://docs.haptik.ai/agent-chat/" class="footer-column-link">Smart Agent Chat</a><a href="https://docs.haptik.ai/bot-analytics/" class="footer-column-link">Intelligent Analytics</a></div></div><div class="footer-column"><div class="footer-column-title">Integrations</div><div class="footer-column-links"><a href="https://docs.haptik.ai/ios-sdk/" class="footer-column-link">iOS SDK</a><a href="https://docs.haptik.ai/android-sdk/" class="footer-column-link">Android SDK</a><a href="https://docs.haptik.ai/web-sdk/" class="footer-column-link">Web SDK</a><a href="https://docs.haptik.ai/whatsapp/" class="footer-column-link">WhatsApp</a><a href="https://docs.haptik.ai/other/facebook" class="footer-column-link">Facebook</a><a href="https://docs.haptik.ai/webhooks/" class="footer-column-link">Bot API</a></div></div><div class="footer-column"><div class="footer-column-title">Others</div><div class="footer-column-links"><a href="https://docs.haptik.ai/hsl/" class="footer-column-link">HSL</a><a href="https://docs.haptik.ai/other/security" class="footer-column-link">Security</a><a href="https://docs.haptik.ai/other/sla" class="footer-column-link">SLA</a><a href="https://docs.haptik.ai/external-chat-tool/" class="footer-column-link">External Agent Chat Tool</a></div></div></div><div class="footer-copyright"></div></div><section class="copyright">Copyright © 2020 Haptik Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '224c7079e67e84a978d8b4621f6af16d',
                indexName: 'haptik',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>