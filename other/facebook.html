<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Facebook · Haptik Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Pre-requisites"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Facebook · Haptik Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.haptik.ai/"/><meta property="og:description" content="## Pre-requisites"/><meta property="og:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="robots" content="noindex"/><link rel="shortcut icon" href="/img/image_0.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-106563119-6', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/js/index.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/image_0.png" alt="Haptik Docs"/><h2 class="headerTitleWithLogo">Haptik Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/#tools" target="_self">Tools</a></li><li class=""><a href="/#integrations" target="_self">Integrations</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Integrations</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Integrations</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/other/facebook">Facebook</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Facebook</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="pre-requisites"></a><a href="#pre-requisites" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pre-requisites</h2>
<ul>
<li><p><strong>A Facebook page</strong> on which you wish to display the bot/app. If you do not have one, the complete details on how to create a facebook page can be found online by clicking <a href="https://www.facebook.com/pages/create/">here</a></p></li>
<li><p><strong>Access token</strong> generated for the above page. Either you can generate it if you are the administrator of that page. If not, the client will have to generate and provide you with the access token <em>(refer Step 3)</em>.</p></li>
<li><p><strong>The bot</strong> should be ready and you should have access to its <em>Business Manager.</em></p></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-1-creating-a-facebook-app-and-adding-messenger-to-it"></a><a href="#step-1-creating-a-facebook-app-and-adding-messenger-to-it" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 1: Creating a Facebook App and adding Messenger to it</h2>
<ul>
<li><p>Head to <a href="https://developers.facebook.com">Facebook for developers.</a></p></li>
<li><p>Login using your Facebook account.</p>
<ul>
<li><p>If you have never used a developer account before, click on <strong>Get started</strong>. Follow through the steps presented on the screen and then click on <strong>Create your first app</strong>.</p></li>
<li><p>If you have already used this developer account before, click <strong>Create App</strong>.</p></li>
</ul></li>
<li><p>Enter the <em>display name</em> for this new facebook app and your <em>email id.</em></p></li>
<li><p>Click <strong>Create App ID</strong>. This creates a new <em>(empty)</em> Facebook app and you can now add different Facebook products to this app in order to connect to them.</p></li>
<li><p>Find <strong>Messenger</strong> in the list of products and click <strong>Setup</strong>.</p></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-2-add-the-client-as-an-administrator-to-the-app"></a><a href="#step-2-add-the-client-as-an-administrator-to-the-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 2: Add the client as an administrator to the app:</h2>
<ul>
<li><p>To do this, we need the <em>Facebook_id/username</em> of the client's administrator account which is used to manage their Facebook page.</p>
<ul>
<li><p>To get the <em>Facebook_id</em>, go over to Facebook, search and find this account which is the administrator for the Client's Facebook Page.</p></li>
<li><p>Click to view the <em>profile</em> of this account.</p></li>
<li><p>Now check the URL in the browser to get the <em>Facebook_id</em>. For example, if the URL in the browser is <code>https://facebook.com/demo.account.166452</code> then  the <em>Facebook_id</em> of this account is <code>demo.account.166452</code>.</p></li>
</ul></li>
<li><p>Add the client as an administrator using the <em>Facebook_id</em>.</p>
<ul>
<li><p>Open your newly created app <em>(in Facebook for developers)</em>.</p></li>
<li><p>Click <strong>Roles</strong>.</p></li>
<li><p>Add the client's <em>Facebook_id</em> to the <em>Administrators</em> section by clicking on <strong>Add Administrators</strong>, pasting the <em>Facebook_id</em> in the text box that shows up on the screen and then clicking on <strong>Submit</strong>.</p></li>
</ul></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-3-adding-the-facebook-page-to-the-app-and-generating-_access-token_"></a><a href="#step-3-adding-the-facebook-page-to-the-app-and-generating-_access-token_" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3: Adding the Facebook page to the app and generating <em>access token</em>:</h2>
<ul>
<li><p>We need to add the Facebook page <em>(to which we want to connect our bot)</em> to <code>our facebook app -&gt; Messenger</code>. Only once that this page has been added can the <em>access token</em> for it be generated.</p></li>
<li><p>We need this access token while we configure our Business in <em>Bot Builder</em></p>
<blockquote>
<p>Please note that the following steps can only be performed if you are the administrator of the Client's Facebook Page. <br><br>
If not, then:</p>
<ul>
<li>You would either have to request the client to give you that access.<br><br></li>
<li>Or alternatively, the client would themselves have to add the page to the app following these steps and subsequently generate and share the <em>access token</em></li>
</ul>
</blockquote></li>
</ul>
<ul>
<li><p>Open our app in Facebook for developers.</p></li>
<li><p>Go to <code>Messenger -&gt; Settings</code>.</p></li>
<li><p>Look for the <strong>Access Tokens</strong> section and click:</p>
<ul>
<li><p><strong>Add or Remove Pages</strong> if the page has already been created.</p></li>
<li><p><strong>Create New Page</strong> to create the page if you have not created it yet.</p></li>
</ul></li>
</ul>
<ul>
<li><p>Now select the page which you would like to add to the app and click <strong>continue</strong>.</p></li>
<li><p>After the page has been successfully added to the app, click <strong>Generate Token</strong> to create the <em>access token</em>.</p>
<blockquote>
<p>Please note:</p>
<ul>
<li>Ask the client to <strong>save</strong> this <em>access token</em> and <strong>not to re-generate the token</strong> as generating a new token will immediately invalidate the previously generated <em>access token</em>.<br><br></li>
<li>If your app is in <em>development mode</em>, you can still generate a token but will only be able to access those Facebook users who either manage the app or the Facebook page</li>
</ul>
</blockquote></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-4-setting-up-the-_bot-builder_"></a><a href="#step-4-setting-up-the-_bot-builder_" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 4: Setting up the <em>Bot Builder</em>:</h2>
<ul>
<li><p>Get the App Secret:</p>
<ul>
<li><p><code>Facebook for developers -&gt; (our app) -&gt; settings -&gt; basic</code></p></li>
<li><p>Find the field titled <strong>App Secret</strong> and click on <strong>Show</strong></p></li>
<li><p>Copy the value in this field and paste it in a note or someplace safe and keep it handy since we would need it while going through the next steps.</p></li>
</ul></li>
<li><p>Now go to <code>Bot Builder -&gt; Business Manager -&gt; _(the business in question)_ -&gt; Partner Specific -&gt; Platform Deployments -&gt; Facebook</code>.</p></li>
<li><p>Paste the App Secret we just copied into the <strong>app_secret_key</strong> field.</p></li>
<li><p>Paste the <em>access token</em> generated in <em>Step 3</em> into the field <strong>access_token</strong>.</p></li>
<li><p>Now for the field <strong>secret_challenge_key</strong>, put any text value that you deem proper or you can even use <a href="https://randomkeygen.com/" title="The Secured Password &amp; Keygen Generator">RandomKeyGen</a>. Whatever value we enter here will be used in the next steps when we jump back to setting up webhooks on our Facebook app.</p></li>
<li><p><strong>callback_url</strong> set it as <code>fb/business_name</code>. For example, <code>fb/mydemobusiness</code> <em>(assuming that the business name is mydemobusiness)</em>. Do note that whatever value we enter here has to be a <em>URL safe string</em>.</p></li>
<li><p>Enable the button on the <em>top right</em> side to activate all of these deployment keys.</p></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-5-setting-up-webhook-on-facebook-app"></a><a href="#step-5-setting-up-webhook-on-facebook-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 5: Setting up webhook on Facebook App:</h2>
<ul>
<li><p>This step connects our Facebook App with our Bot Builder.</p></li>
<li><p>Go to <code>Facebook for developers -&gt; (our app) -&gt; Messenger -&gt; Settings</code></p></li>
<li><p>Find the section titled <strong>Webhooks</strong>.</p></li>
<li><p>Click on <strong>Add Callback URL</strong>.</p></li>
<li><p>Enter the following URL into the <strong>Callback URL</strong> field:</p>
<ul>
<li><blockquote>
<p>Callback URL = (Environment's base URL) + (callback_url entered in the Bot Builder)</p>
</blockquote></li>
<li><p><em>Staging</em> - <code>&lt;base url for staging message delivery&gt;/&lt;callback_url entered in Bot Builder&gt;</code>. Thus, following our example, our complete Callback URL would be <code>&lt;baseurl_staging&gt;/fb/mydemobusiness</code>.</p></li>
<li><p><em>Production</em> - <code>&lt;base url for production message delivery&gt;/&lt;callback_url entered in Bot Builder&gt;</code>. Thus, following our example, our complete Callback URL would be <code>&lt;baseurl_production&gt;/fb/mydemobusiness</code>.</p></li>
</ul></li>
<li><p>Add the <strong>secret_challenge_key</strong> entered in Bot Builder, into the <strong>Verify Token</strong> field.</p></li>
<li><p>Click <strong>Verify and Save</strong>. Facebook will now make a call to the Callback URL entered and send the Verify Token along with it and only on successful verification, save it.</p></li>
<li><p>Now that the Callback URL has been verified and saved, we need to <em>subscribe</em> to <em>Messenger events</em> that would occur on our Facebook Page and for which our Callback URL would subsequently be called. To do this, click on <strong>Add Subscriptions</strong>.</p></li>
<li><p>A popup window appears showing a grid of available events to which we can subscribe. Select all the relevant events. Minimally, atleast these 4 events should be subscribed to:</p>
<ol>
<li>messages</li>
<li>messaging_postbacks</li>
<li>message_deliveries</li>
<li>message_reads</li>
</ol></li>
</ul>
<ul>
<li>Click <strong>Save</strong>.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="step-6-enabling-our-facebook-app-to-be-the-primary-receiver-on-the-facebook-page"></a><a href="#step-6-enabling-our-facebook-app-to-be-the-primary-receiver-on-the-facebook-page" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 6: Enabling our Facebook App to be the Primary receiver on the Facebook Page:</h2>
<ul>
<li><p>For the Facebook Page on which we wish to deploy our bot, we need to set our app as the Primary Receiver.</p></li>
<li><p>Go to <code>Facebook -&gt; client's Facebook Page -&gt; Settings -&gt; Advanced Messaging</code>.</p></li>
<li><p>Scroll down to the <strong>App Settings</strong> section and click on <strong>Configure</strong>.</p></li>
<li><p>In the popup window that shows up, select the drop down besides the label <strong>Primary receiver for handover protocol</strong> and from this drop down, select our app.</p></li>
<li><p>Close the window. The setting has been saved.</p></li>
</ul>
<blockquote>
<p>By this point, if everything has been setup properly:</p>
<ul>
<li>go to <code>Facebook for developers -&gt; (our app)</code>.<br><br></li>
<li>Under <strong>PRODUCTS</strong>, there should be a green tick mark besides <strong>Webhooks</strong> and <strong>Messenger</strong> respectively.</li>
</ul>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="facebook-verifications"></a><a href="#facebook-verifications" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Facebook Verifications</h2>
<p>For certain permissions, we need verifications from Facebook. There are three components involved in the verification process:</p>
<ol>
<li><p>pages_messages permission:</p>
<ul>
<li><p>Pages_messages enables your app to send and receive messages using a Facebook Page.</p></li>
<li><p>Facebook Messenger review team manually verifies your bot and gives permission accordingly.</p></li>
<li><p>Refer to this Facebook Documentation to learn more - <a href="https://developers.facebook.com/docs/messenger-platform/app-review/">Submitting your Messenger Bot</a>.</p></li>
<li><blockquote>
<p>When you share your bot for permission, there is a testing freeze. No one can test the bot on the facebook page.</p>
</blockquote></li>
</ul></li>
<li><p>pages_user_timezone permission:</p>
<ul>
<li><p>Timezone of a user is required to greet the user appropriately</p>
<ul>
<li>For ex: If the user greets the bot &quot;Good Morning&quot;, the bot will greet back the user based in user's timezone</li>
</ul></li>
<li><p>pages_user_timezone grants your app access to user's timezone through the page your app is connected to</p>
<p><img src="/assets/FB-APP-LEVEL-PERMISSION.jpeg" alt="App Level Permission"></p></li>
<li><p>This permission needs to be requested on Page Level as well</p>
<ul>
<li>Go to client's Facebook Page -&gt; Settings -&gt; Advanced Messaging -&gt; Under Info About People -&gt; Select the &quot;Time Zone&quot; field -&gt; click the &quot;Request&quot; button</li>
</ul>
<p><img src="/assets/FB-PAGE-LEVEL-PERMISSIONS.jpeg" alt="Page Level Permission"></p></li>
<li><p>Facebook Messenger review team manually verifies your bot and gives permission accordingly.</p></li>
<li><p>Refer to this Facebook Documentation to learn more - <a href="https://developers.facebook.com/docs/messenger-platform/app-review/">Submitting your Messenger Bot</a>.</p></li>
<li><blockquote>
<p>When you share your bot for permission, there is a testing freeze. No one can test the bot on the facebook page.</p>
</blockquote></li>
</ul></li>
</ol>
<ol start="3">
<li><p>Business Verification:</p>
<ul>
<li><p>Facebook Business Verification is required to take the app public.</p></li>
<li><p>Refer to Facebook Documentation to learn more - <a href="https://developers.facebook.com/docs/messenger-platform/app-review/">Submitting your Messenger Bot</a>.</p></li>
</ul></li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="setting-up-get-started-button"></a><a href="#setting-up-get-started-button" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting up get started button</h2>
<p>Use this cURL request to setup a get started button</p>
<blockquote>
<p>curl --location --request POST <a href="https://graph.facebook.com/v4.0/me/messenger_profile?access_token=">https://graph.facebook.com/v4.0/me/messenger_profile?access_token=</a>&lt;Access Token&gt;
header 'Content-Type: application/json' \ &amp; data-raw
{
&quot;get_started&quot;:{
&quot;payload&quot;:&quot;&lt;Text to show&gt;&quot;
}
}
<br><br>
Replace:<br>
&lt;Access Token&gt; : Add your Access token stored previously in Bot Builder.<br>
&lt;Text to show&gt; : Text you wish to show up on get started button.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="setting-up-a-persistent-menu"></a><a href="#setting-up-a-persistent-menu" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting up a persistent menu</h2>
<p>Use this cURL request to setup a taskbox</p>
<blockquote>
<p>curl --location --request POST <a href="https://graph.facebook.com/v4.0/me/messenger_profile?access_token=">https://graph.facebook.com/v4.0/me/messenger_profile?access_token=</a>&lt;Access token&gt;
header 'Content-Type: application/json' \ &amp; data-raw
{
&quot;persistent_menu&quot;: [
{
&quot;locale&quot;: &quot;default&quot;,
&quot;composer_input_disabled&quot;: false,
&quot;call_to_actions&quot;: [
{
&quot;type&quot;: &quot;postback&quot;,
&quot;title&quot;: &quot;Menu item 1&quot;,
&quot;payload&quot;: &quot;Menu item 1 {task}&quot;
},
{
&quot;type&quot;: &quot;postback&quot;,
&quot;title&quot;: &quot;Menu item 2&quot;,
&quot;payload&quot;: &quot;Menu item 2 {task}&quot;
}
]
}
]
}
<br><br>
Replace:<br>
&lt;Access Token&gt; : Add your Access token stored previously in Bot Builder.<br></p>
</blockquote>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 3/3/2021</em></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#pre-requisites">Pre-requisites</a></li><li><a href="#step-1-creating-a-facebook-app-and-adding-messenger-to-it">Step 1: Creating a Facebook App and adding Messenger to it</a></li><li><a href="#step-2-add-the-client-as-an-administrator-to-the-app">Step 2: Add the client as an administrator to the app:</a></li><li><a href="#step-3-adding-the-facebook-page-to-the-app-and-generating-_access-token_">Step 3: Adding the Facebook page to the app and generating <em>access token</em>:</a></li><li><a href="#step-4-setting-up-the-_bot-builder_">Step 4: Setting up the <em>Bot Builder</em>:</a></li><li><a href="#step-5-setting-up-webhook-on-facebook-app">Step 5: Setting up webhook on Facebook App:</a></li><li><a href="#step-6-enabling-our-facebook-app-to-be-the-primary-receiver-on-the-facebook-page">Step 6: Enabling our Facebook App to be the Primary receiver on the Facebook Page:</a></li><li><a href="#facebook-verifications">Facebook Verifications</a></li><li><a href="#setting-up-get-started-button">Setting up get started button</a></li><li><a href="#setting-up-a-persistent-menu">Setting up a persistent menu</a></li></ul></nav></div><footer class="nav-footer" id="footer"><div class="footer"><a href="https://haptik.ai/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/image_0.png" alt="Haptik Inc." width="100"/></a><div class="footer-columns"><div class="footer-column"><div class="footer-column-title">Tools</div><div class="footer-column-links"><a href="https://docs.haptik.ai/bot-builder/basic/introduction" class="footer-column-link">Conversation Studio</a><a href="https://docs.haptik.ai/agent-chat/" class="footer-column-link">Smart Agent Chat</a><a href="https://docs.haptik.ai/bot-analytics/" class="footer-column-link">Intelligent Analytics</a></div></div><div class="footer-column"><div class="footer-column-title">Integrations</div><div class="footer-column-links"><a href="https://docs.haptik.ai/ios-sdk/" class="footer-column-link">iOS SDK</a><a href="https://docs.haptik.ai/android-sdk/" class="footer-column-link">Android SDK</a><a href="https://docs.haptik.ai/web-sdk/" class="footer-column-link">Web SDK</a><a href="https://docs.haptik.ai/whatsapp/" class="footer-column-link">WhatsApp</a><a href="https://docs.haptik.ai/other/facebook" class="footer-column-link">Facebook</a><a href="https://docs.haptik.ai/webhooks/" class="footer-column-link">Bot API</a></div></div><div class="footer-column"><div class="footer-column-title">Others</div><div class="footer-column-links"><a href="https://docs.haptik.ai/hsl/" class="footer-column-link">HSL</a><a href="https://docs.haptik.ai/other/security" class="footer-column-link">Security</a><a href="https://docs.haptik.ai/other/sla" class="footer-column-link">SLA</a><a href="https://docs.haptik.ai/external-chat-tool/" class="footer-column-link">External Agent Chat Tool</a></div></div></div><div class="footer-copyright"></div></div><section class="copyright">Copyright © 2021 Haptik Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '224c7079e67e84a978d8b4621f6af16d',
                indexName: 'haptik',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>