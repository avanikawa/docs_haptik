<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Additional Features · Haptik Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## 1. Launching Channel with Custom Message"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Additional Features · Haptik Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.haptik.ai/"/><meta property="og:description" content="## 1. Launching Channel with Custom Message"/><meta property="og:image" content="https://docs.haptik.ai/img/image_0.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.haptik.ai/img/image_0.png"/><link rel="shortcut icon" href="/img/image_0.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-106563119-6', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="/js/index.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/image_0.png" alt="Haptik Docs"/><h2 class="headerTitleWithLogo">Haptik Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/#tools" target="_self">Tools</a></li><li class=""><a href="/#integrations" target="_self">Integrations</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Advanced</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle"> </h3><ul class=""><li class="navListItem"><a class="navItem" href="/android-sdk/">Quick Start</a></li><li class="navListItem"><a class="navItem" href="/android-sdk/sign-up">Authentication</a></li><li class="navListItem"><a class="navItem" href="/android-sdk/configuring-push-notifications">Push Notifications</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Advanced</h4><ul><li class="navListItem"><a class="navItem" href="/android-sdk/rate-share">Rate &amp; Share</a></li><li class="navListItem"><a class="navItem" href="/android-sdk/style-guide">Theming</a></li><li class="navListItem"><a class="navItem" href="/android-sdk/image-loading-modules">Image Loading Modules</a></li><li class="navListItem"><a class="navItem" href="/android-sdk/voice-support">Enabling Voice Support</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/android-sdk/additional-features">Additional Features</a></li></ul></div><li class="navListItem"><a class="navItem" href="/android-sdk/sdk-sample">Sample App</a></li><li class="navListItem"><a class="navItem" href="/android-sdk/faqs">Troubleshooting</a></li><li class="navListItem"><a class="navItem" href="/android-sdk/migrating-from-earlier-versions">Migration</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Additional Features</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="1-launching-channel-with-custom-message"></a><a href="#1-launching-channel-with-custom-message" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Launching Channel with Custom Message</h2>
<p>You can launch the channel and send a custom message to the bot
automatically by calling the following method. Ask
Haptik for mapping of business to their unique name which you may then
utilize in SDK.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-1-tab-2" class="nav-link active" data-group="group_1" data-tab="tab-group-1-content-2">Java</div></div><div class="tab-content"><div id="tab-group-1-content-2" class="tab-pane active" data-group="group_1" tabindex="-1"><div><span><pre><code class="hljs css language-java">Router.launchChannelWithCustomMessage(Context, String businessViaName, String message, String source, <span class="hljs-keyword">boolean</span> displayInChat);<br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="2-syncing-additional-data"></a><a href="#2-syncing-additional-data" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Syncing Additional Data</h2>
<p>In some cases you might need additional data before initiating the chat with user. For example, you might need the order details before resolving the user's query. For this you can sync data in 3 ways.</p>
<ol>
<li>You can sync additional data by passing it to conversation screen :</li>
</ol>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-3-tab-4" class="nav-link active" data-group="group_3" data-tab="tab-group-3-content-4">Java</div></div><div class="tab-content"><div id="tab-group-3-content-4" class="tab-pane active" data-group="group_3" tabindex="-1"><div><span><pre><code class="hljs css language-java">HashMap&lt;String, String&gt; cutomData = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br />cutomData.put(<span class="hljs-string">"product_name"</span>,<span class="hljs-string">"Google Pixel 2"</span>);<br />cutomData.put(<span class="hljs-string">"product_id"</span>,<span class="hljs-string">"100369483"</span>);<br />cutomData.put(<span class="hljs-string">"order_id"</span>,<span class="hljs-string">"115500030393"</span>);<br />cutomData.put(<span class="hljs-string">"delivery_date"</span>,<span class="hljs-string">"01/01/2025"</span>);<br />cutomData.put(<span class="hljs-string">"ticket_number"</span>,<span class="hljs-string">"166000484"</span>);<br /><br />Router.launchChannelWithCustomData(context, <span class="hljs-string">"YOUR_VIA_NAME"</span>, cutomData, SOURCE);<br /><br /></code></pre>
</span></div></div></div></div>
<ol start="2">
<li>You can pass addition data in <code>SignUpData</code> builder :</li>
</ol>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-5-tab-6" class="nav-link active" data-group="group_5" data-tab="tab-group-5-content-6">Java</div></div><div class="tab-content"><div id="tab-group-5-content-6" class="tab-pane active" data-group="group_5" tabindex="-1"><div><span><pre><code class="hljs css language-java">HashMap&lt;String, String&gt; cutomData = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br />cutomData.put(<span class="hljs-string">"product_name"</span>,<span class="hljs-string">"Google Pixel 2"</span>);<br />cutomData.put(<span class="hljs-string">"product_id"</span>,<span class="hljs-string">"100369483"</span>);<br />cutomData.put(<span class="hljs-string">"order_id"</span>,<span class="hljs-string">"115500030393"</span>);<br />cutomData.put(<span class="hljs-string">"delivery_date"</span>,<span class="hljs-string">"01/01/2025"</span>);<br />cutomData.put(<span class="hljs-string">"ticket_number"</span>,<span class="hljs-string">"166000484"</span>);<br /><br />SignUpData signUpData = <span class="hljs-keyword">new</span> SignUpData<br />    .Builder(SignUpData.AUTH_TYPE_BASIC)<br />    .userFullName(<span class="hljs-string">"test"</span>)<br />    .customData(cutomData)<br />    .build();<br /></code></pre>
</span></div></div></div></div>
<ol start="3">
<li>You can also sync additional data ahead of time :</li>
</ol>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-7-tab-8" class="nav-link active" data-group="group_7" data-tab="tab-group-7-content-8">Java</div><div id="tab-group-7-tab-9" class="nav-link" data-group="group_7" data-tab="tab-group-7-content-9">Java</div></div><div class="tab-content"><div id="tab-group-7-content-8" class="tab-pane active" data-group="group_7" tabindex="-1"><div><span><pre><code class="hljs css language-java">HashMap&lt;String, String&gt; cutomData = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br />cutomData.put(<span class="hljs-string">"product_name"</span>,<span class="hljs-string">"Google Pixel 2"</span>);<br />cutomData.put(<span class="hljs-string">"product_id"</span>,<span class="hljs-string">"100369483"</span>);<br />cutomData.put(<span class="hljs-string">"order_id"</span>,<span class="hljs-string">"115500030393"</span>);<br />cutomData.put(<span class="hljs-string">"delivery_date"</span>,<span class="hljs-string">"01/01/2025"</span>);<br />cutomData.put(<span class="hljs-string">"ticket_number"</span>,<span class="hljs-string">"166000484"</span>);<br /><br />HaptikLib.syncUserCustomData(cutomData, <span class="hljs-keyword">new</span> Callback&lt;Boolean&gt;() {<br />    <span class="hljs-meta">@Override</span><br />    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">success</span><span class="hljs-params">(Boolean result)</span> </span>{<br />        <br />    }<br /><br />    <span class="hljs-meta">@Override</span><br />    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">failure</span><span class="hljs-params">(HaptikException exception)</span> </span>{<br /><br />    }<br />});<br /></code></pre>
<h2><a class="anchor" aria-hidden="true" id="3-messaging-event-listener"></a><a href="#3-messaging-event-listener" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Messaging Event Listener</h2>
<p>Messaging Event listener enables client app to listen to events that occur on the Messaging screen. This can be implemented as follows</p>
</span></div></div><div id="tab-group-7-content-9" class="tab-pane" data-group="group_7" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-comment">// Make sure Haptik SDK is initialized before calling this method</span><br />MessagingClient.getInstance().setMessagingEventListener(<span class="hljs-keyword">new</span> MessagingEventListener() {<br />    <span class="hljs-meta">@Override</span><br />    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onUnreadMessageCountChanged</span><span class="hljs-params">(<span class="hljs-keyword">int</span> unreadMessageCount)</span> </span>{<br />        <span class="hljs-comment">// Update the unread message count</span><br />    }<br />});<br /></code></pre>
</span></div></div></div></div>
<ol>
<li>onUnreadMessageCountChanged(int unreadMessageCount)</li>
</ol>
<p>This method returns the number of unread messages for a client in the Haptik SDK. A typical use case for this method is to display the unread count on the icon which
launches the Haptik SDK in the client app.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-10-tab-11" class="nav-link active" data-group="group_10" data-tab="tab-group-10-content-11">Java</div></div><div class="tab-content"><div id="tab-group-10-content-11" class="tab-pane active" data-group="group_10" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-comment">// Method which gets fired when count of unread messages changes, if you want to provide an unread count badge UI somewhere in your application</span><br /><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onUnreadMessageCountChanged</span><span class="hljs-params">(<span class="hljs-keyword">int</span> unreadMessageCount)</span></span>;<br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="4-using-geoplaces-api-key-with-haptik-sdk"></a><a href="#4-using-geoplaces-api-key-with-haptik-sdk" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Using Geo/Places API key with Haptik SDK</h2>
<p>Please provide the GEO API key and Places API key to Haptik SDK as follows</p>
<pre><code class="hljs css language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.google.android.geo.API_KEY"</span>
        <span class="hljs-attr">android:value</span>=<span class="hljs-string">"YOUR API KEY HERE"</span>
        <span class="hljs-attr">tools:replace</span>=<span class="hljs-string">"android:value"</span>/&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"ai.haptik.places.sdk.api.key"</span>
        <span class="hljs-attr">android:value</span>=<span class="hljs-string">"YOUR API KEY HERE"</span>
        <span class="hljs-attr">tools:replace</span>=<span class="hljs-string">"android:value"</span>/&gt;</span>
</code></pre>
<p>Providing these keys are important if location related functions from Haptik SDK need to be used</p>
<p>If you are not already using the PLACES API KEY, please visit the following link to read how generate the key</p>
<p><a href="https://developers.google.com/places/android-sdk/get-api-key">Places SDK for Android</a></p>
<p>If you are not already using the MAPS API KEY, please visit the following link to read how generate the key</p>
<p><a href="https://developers.google.com/maps/documentation/android-sdk/get-api-key">Maps SDK for Android</a></p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 10/27/2020</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/android-sdk/voice-support"><span class="arrow-prev">← </span><span>Enabling Voice Support</span></a><a class="docs-next button" href="/android-sdk/sdk-sample"><span>Sample App</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#1-launching-channel-with-custom-message">1. Launching Channel with Custom Message</a></li><li><a href="#2-syncing-additional-data">2. Syncing Additional Data</a></li><li><a href="#3-messaging-event-listener">3. Messaging Event Listener</a></li><li><a href="#4-using-geoplaces-api-key-with-haptik-sdk">4. Using Geo/Places API key with Haptik SDK</a></li></ul></nav></div><footer class="nav-footer" id="footer"><div class="footer"><a href="https://haptik.ai/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/image_0.png" alt="Haptik Inc." width="100"/></a><div class="footer-columns"><div class="footer-column"><div class="footer-column-title">Tools</div><div class="footer-column-links"><a href="https://docs.haptik.ai/bot-builder/basic/introduction" class="footer-column-link">Conversation Studio</a><a href="https://docs.haptik.ai/agent-chat/" class="footer-column-link">Smart Agent Chat</a><a href="https://docs.haptik.ai/bot-analytics/" class="footer-column-link">Intelligent Analytics</a></div></div><div class="footer-column"><div class="footer-column-title">Integrations</div><div class="footer-column-links"><a href="https://docs.haptik.ai/ios-sdk/" class="footer-column-link">iOS SDK</a><a href="https://docs.haptik.ai/android-sdk/" class="footer-column-link">Android SDK</a><a href="https://docs.haptik.ai/web-sdk/" class="footer-column-link">Web SDK</a><a href="https://docs.haptik.ai/whatsapp/" class="footer-column-link">WhatsApp</a><a href="https://docs.haptik.ai/other/facebook" class="footer-column-link">Facebook</a><a href="https://docs.haptik.ai/webhooks/" class="footer-column-link">Bot API</a></div></div><div class="footer-column"><div class="footer-column-title">Others</div><div class="footer-column-links"><a href="https://docs.haptik.ai/hsl/" class="footer-column-link">HSL</a><a href="https://docs.haptik.ai/other/security" class="footer-column-link">Security</a><a href="https://docs.haptik.ai/other/sla" class="footer-column-link">SLA</a><a href="https://docs.haptik.ai/external-chat-tool/" class="footer-column-link">External Agent Chat Tool</a></div></div></div><div class="footer-copyright"></div></div><section class="copyright">Copyright © 2020 Haptik Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '224c7079e67e84a978d8b4621f6af16d',
                indexName: 'haptik',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>